import{u as B,j as e,T as oe,i as ce,A as Y,c as G,r as p,s as j,g as xe,d as me,e as he,h as ge,k as ue,m as be,n as pe,o as fe,p as ve,q as je}from"./index-Cz1leXvi.js";import{c as ke,L as ye,T as we,a as Ne,S as F,C as W,b as L,D as Ce,U as E,d as $e,B as A,H as Se,e as V,X as U,A as re,P as se,E as De}from"./LanguageToggle-BKJyKWrg.js";import{C as $,b as T,c as I,d as _,a as S,B as w}from"./card-y8mvKSjO.js";import{I as R}from"./Input-BwwNsjSx.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Te=ke("menu",Le),Ie=({onLogout:r,onMenuClick:a,userFullName:s,activeTab:n,onTabChange:d})=>{const{t:m}=B(),i=[{key:"overview",label:m("dashboard.navigation.overview"),icon:"ðŸ "},{key:"services",label:m("dashboard.navigation.services"),icon:"ðŸ¥"},{key:"schedule",label:m("dashboard.navigation.schedule"),icon:"ðŸ“…"},{key:"reservations",label:m("dashboard.navigation.reservations"),icon:"â³"},{key:"history",label:m("dashboard.navigation.history"),icon:"ðŸ“œ"},{key:"profile",label:m("dashboard.navigation.profile"),icon:"ðŸ‘¤"}],v=c=>{d&&d(c)};return e.jsx("header",{className:"w-full h-14 sm:h-16 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm z-30 fixed top-0 right-0 left-0 transition-colors duration-200 overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 h-full w-full",children:e.jsxs("div",{className:"relative flex items-center justify-between h-full w-full min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 relative z-10 flex-shrink-0 min-w-0",children:[e.jsx("button",{className:"lg:hidden flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg p-1.5 sm:p-2 transition-all duration-200 flex-shrink-0",onClick:a,"aria-label":m("dashboard.navigation.openMenu"),children:e.jsx(Te,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),s&&e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.75 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),e.jsx("span",{className:"text-sm font-medium",children:s})]})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-1",children:i.map(c=>e.jsxs("button",{onClick:()=>v(c.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap min-w-fit ${n===c.key?"bg-teal-600 dark:bg-teal-500 text-white shadow-lg shadow-teal-500/25":"text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 hover:bg-teal-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"text-base",children:c.icon}),e.jsx("span",{children:c.label})]},c.key))}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 relative z-10 flex-shrink-0 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{}),e.jsx(we,{}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-2 sm:px-3 py-2 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 font-medium flex-shrink-0","aria-label":m("dashboard.navigation.logout"),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 flex-shrink-0",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 15l3-3m0 0l-3-3m3 3H9"})]}),e.jsx("span",{className:"hidden sm:inline text-sm",children:m("dashboard.navigation.logoutButton")})]})]})})]})})})},_e=({isOpen:r,onClose:a,activeTab:s,onTabChange:n})=>{const{t:d,i18n:m}=B(),i=m.dir()==="rtl",v=[{id:"overview",label:d("dashboard.navigation.overview"),icon:Ne,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"services",label:d("dashboard.navigation.services"),icon:F,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"schedule",label:d("dashboard.navigation.workSchedule"),icon:W,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"reservations",label:d("dashboard.navigation.reservations"),icon:L,activeColor:"from-purple-600 to-indigo-600",hoverColor:"hover:bg-purple-50"},{id:"history",label:d("dashboard.navigation.reservationHistory"),icon:Ce,activeColor:"from-indigo-600 to-purple-600",hoverColor:"hover:bg-indigo-50"},{id:"profile",label:d("dashboard.navigation.profile"),icon:E,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"}];return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black/55 dark:bg-black/75 backdrop-blur-sm z-40 lg:hidden",onClick:a}),e.jsx("div",{className:`fixed top-0 h-full w-[17rem] sm:w-72 max-w-full z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${i?"right-0":"left-0"} ${r?"translate-x-0":i?"translate-x-full":"-translate-x-full"}`,children:e.jsx("div",{className:`h-full w-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-md text-gray-800 dark:text-gray-100 shadow-2xl border border-gray-200/70 dark:border-gray-800/70 transition-colors duration-200 ${i?"border-l":"border-r"}`,children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500 via-cyan-600 to-blue-700 opacity-95"}),e.jsxs("div",{className:"relative px-6 pt-6 pb-5 flex flex-col gap-4 text-white",children:[e.jsx("button",{onClick:a,className:`absolute top-5 p-2 rounded-xl bg-white/15 backdrop-blur hover:bg-white/25 transition-all duration-200 ${i?"left-5":"right-5"}`,"aria-label":d("common.close")||"Close",children:e.jsx($e,{className:"w-5 h-5"})}),e.jsxs("div",{className:`flex items-center gap-3 ${i?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"text-white text-lg font-semibold",children:"S"})}),e.jsxs("div",{className:i?"text-right":"text-left",children:[e.jsx("h1",{className:"text-lg font-semibold leading-tight",children:d("mobileSidebar.platformName")}),e.jsx("p",{className:"text-xs text-white/80",children:d("mobileSidebar.dashboard")})]})]}),e.jsx("div",{className:`text-xs text-white/80 ${i?"text-right":"text-left"}`,children:d("mobileSidebar.manageHospital")})]})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto px-4 py-5",children:[e.jsx("p",{className:`text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500 mb-3 ${i?"text-right":"text-left"}`,children:d("mobileSidebar.quickAccess")}),e.jsx("ul",{className:"space-y-2.5",children:v.map(c=>{const o=c.icon,f=s===c.id;return e.jsx("li",{children:e.jsxs("button",{onClick:()=>{n(c.id),a()},className:`w-full flex items-center justify-between rounded-xl px-4 py-3 transition-all duration-200 shadow-sm ${f?`bg-gradient-to-${i?"l":"r"} ${c.activeColor} text-white shadow-lg shadow-${i?"teal":"blue"}-500/30`:"bg-white/70 dark:bg-gray-800/70 border border-gray-200/60 dark:border-gray-700/60 text-slate-700 dark:text-gray-200 hover:border-teal-400/60 hover:bg-white hover:text-teal-600 dark:hover:text-teal-300 dark:hover:bg-gray-800"} ${i?"flex-row-reverse text-right gap-3":"flex-row text-left gap-3"}`,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`p-2 rounded-lg ${f?"bg-white/20":"bg-teal-100/70 dark:bg-teal-900/30 text-teal-600 dark:text-teal-300"}`,children:e.jsx(o,{className:`w-5 h-5 ${f?"text-white":""}`})}),e.jsx("span",{className:"font-medium text-sm",children:c.label})]}),!f&&e.jsx(A,{className:`w-4 h-4 text-gray-300 dark:text-gray-600 ${i?"rotate-180":""}`})]})},c.id)})})]}),e.jsx("div",{className:"px-4 pb-6",children:e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-gray-100 via-white to-gray-100 dark:from-gray-800/70 dark:via-gray-800/40 dark:to-gray-800/20 border border-gray-200/70 dark:border-gray-700/60 p-4",children:[e.jsx("h2",{className:`text-sm font-semibold text-gray-800 dark:text-gray-100 mb-1 ${i?"text-right":"text-left"}`,children:d("mobileSidebar.supportTitle")}),e.jsx("p",{className:`text-xs text-gray-500 dark:text-gray-400 leading-relaxed ${i?"text-right":"text-left"}`,children:d("mobileSidebar.supportDescription")})]})})]})})})]})};async function Q(r,a={},s){var v;const n=oe.getToken(),d=new Headers(a.headers||{});d.set("Accept","application/json");const m=(a.method||"GET").toUpperCase(),i=((v=ce)==null?void 0:v.language)||localStorage.getItem("i18nextLng")||sessionStorage.getItem("i18nextLng")||"ar";d.set("Accept-Language",i),a.body instanceof FormData?d.delete("Content-Type"):a.body&&!d.has("Content-Type")&&d.set("Content-Type","application/json"),n&&d.set("Authorization",`Bearer ${n}`);try{const c=new AbortController,o=setTimeout(()=>c.abort(),Y.REQUEST_TIMEOUT),f=new URL(`${Y.BASE_URL}${r}`,Y.BASE_URL);m==="GET"&&f.searchParams.set("lang",i);const g=await fetch(f.toString(),{...a,headers:d,signal:c.signal});if(clearTimeout(o),!g.ok){const u=await g.json().catch(()=>({message:`HTTP ${g.status}`}));throw new Error(u.message||"API error")}const h=g.headers.get("content-type");return g.status===204||!h||!h.includes("application/json")?null:await g.json()}catch(c){if(s!==void 0)return s;throw c}}const Be={workDays:{total:0,days:[]},services:{total:0,averagePrice:0,totalCapacity:0},reservations:{total:0,pending:0,confirmed:0,cancelled:0,completed:0,today:0,thisWeek:0,thisMonth:0,revenue:0}},K=async()=>await Q(G.HOSPITAL_RESERVATIONS,{},[])||[],He=async r=>(await K()).filter(s=>s.status===r),ze=async()=>He("pending"),Me=async r=>{await te(r,"confirmed")},Re=async r=>{await te(r,"cancelled")},Ee=async()=>await Q(G.HOSPITAL_SERVICES,{},[])||[],Ae=async()=>await Q(G.HOSPITAL_WORK_SCHEDULES,{},[])||[],te=async(r,a)=>{try{return await Q(`${G.HOSPITAL_RESERVATIONS_UPDATE_STATUS(r)}?status=${encodeURIComponent(a)}`,{method:"PATCH"}),!0}catch(s){throw s}},We=async()=>{try{const[r,a,s]=await Promise.all([K(),Ee(),Ae()]),n=new Date().toISOString().split("T")[0],d=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],m=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0],i=new Date;i.setDate(i.getDate()-i.getDay());const v=i.toISOString().split("T")[0],c=r.filter(b=>b.start_date===n),o=r.filter(b=>b.start_date>=v),f=r.filter(b=>b.start_date>=d&&b.start_date<=m),g=r.filter(b=>b.status==="pending"),h=r.filter(b=>b.status==="confirmed"),u=r.filter(b=>b.status==="completed"),y=r.filter(b=>b.status==="cancelled"),k=r.reduce((b,C)=>b+(C.price||0),0),N=a.length>0?a.reduce((b,C)=>b+(parseFloat(C.price)||0),0)/a.length:0,x=a.reduce((b,C)=>b+(C.capacity||0),0),t=s.map(b=>b.day_of_week);return{workDays:{total:s.length,days:t},services:{total:a.length,averagePrice:Math.round(N*100)/100,totalCapacity:x},reservations:{total:r.length,pending:g.length,confirmed:h.length,cancelled:y.length,completed:u.length,today:c.length,thisWeek:o.length,thisMonth:f.length,revenue:k}}}catch{return Be}},Z=({onNavigate:r,userFullName:a})=>{const{t:s,i18n:n}=B(),[d,m]=p.useState(null),[i,v]=p.useState(!0);p.useEffect(()=>{(async()=>{try{v(!0);const h=await We();m(h)}catch{}finally{v(!1)}})()},[n.language]);const c=()=>{const g=new Date().getHours();return g<12?s("dashboard.greeting.morning"):g<17?s("dashboard.greeting.afternoon"):s("dashboard.greeting.evening")},o=()=>{const g=new Date,h=n.language==="ar"?"ar-EG":"en-US",u={weekday:"long",year:"numeric",month:"long",day:"numeric"};return g.toLocaleDateString(h,u)},f=()=>a&&a!==""?a:s("dashboard.overview.hospitalName");return e.jsxs("div",{className:"space-y-4 md:space-y-8 w-full max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-teal-500 via-blue-600 to-indigo-700 rounded-xl sm:rounded-2xl shadow-xl relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-white rounded-full blur-3xl transform translate-x-1/3 -translate-y-1/3"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-white rounded-full blur-3xl transform -translate-x-1/3 translate-y-1/3"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-white rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2 opacity-50"})]}),e.jsxs("div",{className:"relative z-10 p-4 sm:p-5 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-5 mb-4 sm:mb-5",children:[e.jsx("div",{className:"flex-1 w-full min-w-0",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-teal-100/90 font-medium mb-1",children:s("dashboard.welcome")}),e.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white mb-1.5 leading-tight",children:[c(),", ",f()]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-teal-100/90",children:[e.jsx(L,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("p",{className:"text-xs sm:text-sm",children:o()})]})]})}),e.jsx("div",{className:`flex-shrink-0 ${n.language==="ar"?"sm:order-first":""}`,children:e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-white/25 backdrop-blur-md rounded-xl flex items-center justify-center border-2 border-white/40 shadow-lg transform hover:scale-105 transition-transform duration-300",children:e.jsx(Se,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-white"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2.5 sm:gap-3",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-lg px-3 py-2.5 border border-white/30 hover:bg-white/30 transition-all duration-200 shadow-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl flex-shrink-0",role:"img","aria-label":"hospital",children:"ðŸ¥"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm text-white",children:s("dashboard.overview.hospitalName")})]})}),e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-lg px-3 py-2.5 border border-white/30 hover:bg-white/30 transition-all duration-200 cursor-pointer shadow-md active:scale-95",onClick:()=>r("services"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl flex-shrink-0",role:"img","aria-label":"smart",children:"ðŸ“±"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm text-white",children:s("dashboard.overview.smartManagement")})]})}),e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-lg px-3 py-2.5 border border-white/30 hover:bg-white/30 transition-all duration-200 shadow-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl flex-shrink-0",role:"img","aria-label":"fast",children:"âš¡"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm text-white",children:s("dashboard.overview.fastPerformance")})]})})]})]})]}),i&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"}),e.jsx("p",{className:`${n.language==="ar"?"ml-4":"mr-4"} text-gray-600 dark:text-gray-300`,children:s("dashboard.overview.loading")})]}),!i&&d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-8",children:e.jsxs($,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-green-500",children:[e.jsxs(T,{className:"pb-3 md:pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(W,{className:"w-5 h-5 md:w-6 md:h-6 text-green-600"}),s("dashboard.overview.workDays.title")]}),e.jsx(_,{className:"text-xs md:text-sm",children:s("dashboard.overview.workDays.description")})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 rounded-lg md:rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-green-700 dark:text-green-400 font-medium mb-0.5 sm:mb-1",children:s("dashboard.overview.workDays.total")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-900 dark:text-green-100",children:d.workDays.total})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-green-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(W,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-green-600"})})]})}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-800/20 rounded-lg md:rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-green-700 dark:text-green-400 font-medium mb-1 sm:mb-2",children:s("dashboard.overview.workDays.available")}),e.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-1.5 md:gap-2",children:d.workDays.days.length>0?d.workDays.days.map((g,h)=>e.jsx("span",{className:"px-2 py-0.5 md:px-3 md:py-1 bg-green-500 text-white text-[10px] md:text-xs font-medium rounded-full shadow-sm",children:g},h)):e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs md:text-sm",children:s("dashboard.overview.workDays.noDays")})})]})})]}),e.jsxs(w,{onClick:()=>r("schedule"),className:"w-full md:w-auto text-sm",section:"hospital",children:[e.jsx(W,{className:`w-4 h-4 ${n.language==="ar"?"ml-2":"mr-2"}`}),s("dashboard.overview.workDays.manage")]})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-8",children:e.jsxs($,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-blue-500",children:[e.jsxs(T,{className:"pb-3 md:pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(F,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"}),s("dashboard.overview.services.title")]}),e.jsx(_,{className:"text-xs md:text-sm",children:s("dashboard.overview.services.description")})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 md:gap-4",children:[e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 rounded-lg md:rounded-xl border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-blue-700 dark:text-blue-400 font-medium mb-0.5 sm:mb-1",children:s("dashboard.overview.services.total")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 dark:text-blue-100",children:d.services.total})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(F,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-blue-600"})})]})}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/30 dark:to-cyan-800/20 rounded-lg md:rounded-xl border border-cyan-200 dark:border-cyan-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-cyan-700 dark:text-cyan-400 font-medium mb-0.5 sm:mb-1",children:s("dashboard.overview.services.averagePrice")}),e.jsxs("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-cyan-900 dark:text-cyan-100 truncate",children:[d.services.averagePrice.toFixed(2)," ",s("dashboard.services.currency")]})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-cyan-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-base sm:text-lg md:text-xl lg:text-2xl",children:"ðŸ’°"})})]})}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/20 rounded-lg md:rounded-xl border border-indigo-200 dark:border-indigo-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-indigo-700 dark:text-indigo-400 font-medium mb-0.5 sm:mb-1",children:s("dashboard.overview.services.totalCapacity")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-indigo-900 dark:text-indigo-100",children:d.services.totalCapacity})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-indigo-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-base sm:text-lg md:text-xl lg:text-2xl",children:"ðŸ“Š"})})]})})]}),e.jsxs(w,{onClick:()=>r("services"),className:"w-full md:w-auto text-sm",section:"services",children:[e.jsx(F,{className:`w-4 h-4 ${n.language==="ar"?"ml-2":"mr-2"}`}),s("dashboard.overview.services.manage")]})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-8",children:e.jsxs($,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-purple-500",children:[e.jsxs(T,{className:"pb-3 md:pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(L,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-600"}),s("dashboard.overview.reservations.title")]}),e.jsx(_,{className:"text-xs md:text-sm",children:s("dashboard.overview.reservations.description")})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1.5 sm:gap-2 md:gap-4",children:[e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-purple-200 dark:border-purple-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-purple-700 dark:text-purple-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.total")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-purple-900 dark:text-purple-100",children:d.reservations.total})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/30 dark:to-yellow-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-yellow-200 dark:border-yellow-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-yellow-700 dark:text-yellow-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.pending")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-yellow-900 dark:text-yellow-100",children:d.reservations.pending})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-green-700 dark:text-green-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.confirmed")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-green-900 dark:text-green-100",children:d.reservations.confirmed})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-red-200 dark:border-red-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-red-700 dark:text-red-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.cancelled")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-red-900 dark:text-red-100",children:d.reservations.cancelled})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1.5 sm:gap-2 md:gap-4",children:[e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-900/30 dark:to-teal-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-teal-200 dark:border-teal-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-teal-700 dark:text-teal-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.completed")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-teal-900 dark:text-teal-100",children:d.reservations.completed})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-blue-700 dark:text-blue-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.today")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-blue-900 dark:text-blue-100",children:d.reservations.today})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-indigo-200 dark:border-indigo-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-indigo-700 dark:text-indigo-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.thisWeek")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:d.reservations.thisWeek})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/30 dark:to-pink-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-pink-200 dark:border-pink-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-pink-700 dark:text-pink-400 font-medium mb-0.5 md:mb-1 leading-tight",children:s("dashboard.overview.reservations.thisMonth")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-pink-900 dark:text-pink-100",children:d.reservations.thisMonth})]})})]}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-800/20 rounded-lg md:rounded-xl border-2 border-emerald-300 dark:border-emerald-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-emerald-700 dark:text-emerald-400 font-medium mb-0.5 sm:mb-1",children:s("dashboard.overview.reservations.revenue")}),e.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold text-emerald-900 dark:text-emerald-100 truncate",children:[d.reservations.revenue.toFixed(2)," ",s("dashboard.services.currency")]})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 bg-emerald-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl",children:"ðŸ’µ"})})]})}),e.jsxs(w,{onClick:()=>r("reservations"),className:"w-full md:w-auto text-sm",section:"services",children:[e.jsx(L,{className:`w-4 h-4 ${n.language==="ar"?"ml-2":"mr-2"}`}),s("dashboard.overview.reservations.viewAll")]})]})})]})})]})]})},J=({isOpen:r,onClose:a,onConfirm:s,title:n,description:d,confirmText:m,cancelText:i,type:v="warning",loading:c=!1})=>{const{t:o}=B(),f=m||o("common.confirm"),g=i||o("common.cancel");if(!r)return null;const h=()=>{switch(v){case"danger":return e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"warning":return e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"info":return e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},u=()=>v==="danger"?"destructive":"default";return e.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",onClick:a,children:e.jsxs($,{className:"w-full max-w-md dark:bg-gray-800 shadow-2xl animate-in zoom-in-95 duration-200",onClick:y=>y.stopPropagation(),children:[e.jsxs(T,{className:"text-center pb-3",children:[h(),e.jsx(I,{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:n}),e.jsx(_,{className:"text-base mt-2 text-gray-600 dark:text-gray-400",children:d})]}),e.jsx(S,{children:e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(w,{onClick:a,variant:"outline",className:"flex-1",disabled:c,children:g}),e.jsx(w,{onClick:s,variant:u(),className:"flex-1",disabled:c,children:c?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o("common.loading")]}):f})]})})]})})},Oe={slate:{container:"border-slate-200/80 dark:border-slate-700/60 bg-gradient-to-br from-white/95 via-white/90 to-slate-50/70 dark:from-slate-900/85 dark:via-slate-900/70 dark:to-slate-800/60 shadow-slate-100/30 dark:shadow-none",mobileBorder:"border-slate-200/80 dark:border-slate-700/60",headerBackground:"from-slate-50/95 via-slate-100/90 to-slate-200/70 dark:from-slate-900/60 dark:via-slate-900/45 dark:to-slate-800/35",headerText:"text-slate-500 dark:text-slate-300",divider:"border-slate-200/70 dark:border-slate-700/60",zebraA:"bg-white/96 dark:bg-slate-900/65",zebraB:"bg-slate-50/80 dark:bg-slate-900/45",hover:"hover:bg-slate-100/80 dark:hover:bg-slate-800/60",spinner:"border-slate-400",accentBorder:"border-s-slate-400 dark:border-s-slate-500"},blue:{container:"border-sky-200/80 dark:border-sky-900/40 bg-gradient-to-br from-white/95 via-sky-50/80 to-cyan-50/60 dark:from-slate-900/85 dark:via-sky-900/40 dark:to-cyan-900/35 shadow-sky-100/40 dark:shadow-none",mobileBorder:"border-sky-200/80 dark:border-sky-900/50",headerBackground:"from-sky-100/90 via-sky-200/80 to-cyan-200/70 dark:from-sky-900/55 dark:via-sky-900/45 dark:to-cyan-900/35",headerText:"text-sky-700 dark:text-sky-200",divider:"border-sky-200/70 dark:border-sky-900/40",zebraA:"bg-white/96 dark:bg-slate-900/60",zebraB:"bg-sky-50/80 dark:bg-sky-900/30",hover:"hover:bg-sky-100/70 dark:hover:bg-sky-900/45",spinner:"border-sky-400",accentBorder:"border-s-sky-400 dark:border-s-sky-500"},green:{container:"border-emerald-200/80 dark:border-emerald-900/40 bg-gradient-to-br from-white/95 via-emerald-50/80 to-lime-50/60 dark:from-slate-900/85 dark:via-emerald-900/40 dark:to-lime-900/35 shadow-emerald-100/40 dark:shadow-none",mobileBorder:"border-emerald-200/80 dark:border-emerald-900/50",headerBackground:"from-emerald-100/90 via-emerald-200/80 to-teal-200/70 dark:from-emerald-900/55 dark:via-emerald-900/45 dark:to-teal-900/35",headerText:"text-emerald-700 dark:text-emerald-200",divider:"border-emerald-200/70 dark:border-emerald-900/40",zebraA:"bg-white/96 dark:bg-slate-900/60",zebraB:"bg-emerald-50/80 dark:bg-emerald-900/30",hover:"hover:bg-emerald-100/70 dark:hover:bg-emerald-900/45",spinner:"border-emerald-400",accentBorder:"border-s-emerald-400 dark:border-s-emerald-500"},purple:{container:"border-violet-200/80 dark:border-violet-900/40 bg-gradient-to-br from-white/95 via-violet-50/80 to-indigo-50/60 dark:from-slate-900/85 dark:via-violet-900/40 dark:to-indigo-900/35 shadow-violet-100/40 dark:shadow-none",mobileBorder:"border-violet-200/80 dark:border-violet-900/50",headerBackground:"from-violet-100/90 via-violet-200/80 to-indigo-200/70 dark:from-violet-900/55 dark:via-violet-900/45 dark:to-indigo-900/35",headerText:"text-violet-700 dark:text-violet-200",divider:"border-violet-200/70 dark:border-violet-900/40",zebraA:"bg-white/96 dark:bg-slate-900/60",zebraB:"bg-violet-50/80 dark:bg-violet-900/30",hover:"hover:bg-violet-100/70 dark:hover:bg-violet-900/45",spinner:"border-violet-400",accentBorder:"border-s-violet-400 dark:border-s-violet-500"},indigo:{container:"border-indigo-200/80 dark:border-indigo-900/40 bg-gradient-to-br from-white/95 via-indigo-50/75 to-slate-50/60 dark:from-slate-900/85 dark:via-indigo-900/40 dark:to-slate-900/35 shadow-indigo-100/40 dark:shadow-none",mobileBorder:"border-indigo-200/80 dark:border-indigo-900/50",headerBackground:"from-indigo-100/90 via-indigo-200/80 to-slate-200/70 dark:from-indigo-900/55 dark:via-indigo-900/45 dark:to-slate-900/35",headerText:"text-indigo-700 dark:text-indigo-200",divider:"border-indigo-200/70 dark:border-indigo-900/40",zebraA:"bg-white/96 dark:bg-slate-900/60",zebraB:"bg-indigo-50/80 dark:bg-indigo-900/30",hover:"hover:bg-indigo-100/70 dark:hover:bg-indigo-900/45",spinner:"border-indigo-400",accentBorder:"border-s-indigo-400 dark:border-s-indigo-500"},teal:{container:"border-teal-200/80 dark:border-teal-900/40 bg-gradient-to-br from-white/95 via-teal-50/80 to-cyan-50/60 dark:from-slate-900/85 dark:via-teal-900/40 dark:to-cyan-900/35 shadow-teal-100/40 dark:shadow-none",mobileBorder:"border-teal-200/80 dark:border-teal-900/50",headerBackground:"from-teal-100/90 via-teal-200/80 to-cyan-200/70 dark:from-teal-900/55 dark:via-teal-900/45 dark:to-cyan-900/35",headerText:"text-teal-700 dark:text-teal-200",divider:"border-teal-200/70 dark:border-teal-900/40",zebraA:"bg-white/96 dark:bg-slate-900/60",zebraB:"bg-teal-50/80 dark:bg-teal-900/30",hover:"hover:bg-teal-100/70 dark:hover:bg-teal-900/45",spinner:"border-teal-400",accentBorder:"border-s-teal-400 dark:border-s-teal-500"},amber:{container:"border-amber-200/80 dark:border-amber-900/40 bg-gradient-to-br from-white/95 via-amber-50/80 to-orange-50/60 dark:from-slate-900/85 dark:via-amber-900/40 dark:to-orange-900/35 shadow-amber-100/40 dark:shadow-none",mobileBorder:"border-amber-200/80 dark:border-amber-900/50",headerBackground:"from-amber-100/90 via-amber-200/80 to-orange-200/70 dark:from-amber-900/55 dark:via-amber-900/45 dark:to-orange-900/35",headerText:"text-amber-700 dark:text-amber-200",divider:"border-amber-200/70 dark:border-amber-900/40",zebraA:"bg-white/96 dark:bg-slate-900/60",zebraB:"bg-amber-50/80 dark:bg-amber-900/30",hover:"hover:bg-amber-100/70 dark:hover:bg-amber-900/45",spinner:"border-amber-400",accentBorder:"border-s-amber-400 dark:border-s-amber-500"}},ee=(r,a)=>r==="center"?"text-center":r==="right"?a?"text-left":"text-right":a?"text-right":"text-left",X=({data:r,columns:a,getRowId:s,isRTL:n,loading:d,loadingLabel:m,emptyState:i,renderMobileCard:v,zebra:c=!0,className:o,tone:f="slate",primaryColumnId:g})=>{const h=Oe[f];return e.jsxs("div",{className:`space-y-4 ${o??""}`,children:[e.jsxs("div",{className:"grid gap-3 md:hidden",children:[d&&e.jsx("div",{className:`rounded-2xl border ${h.mobileBorder} bg-white/96 dark:bg-slate-900/75 p-4 animate-pulse`,children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 w-1/2 bg-slate-200/80 dark:bg-slate-700 rounded"}),e.jsx("div",{className:"h-3 w-full bg-slate-200/70 dark:bg-slate-800 rounded"}),e.jsx("div",{className:"h-3 w-3/4 bg-slate-200/70 dark:bg-slate-800 rounded"})]})}),!d&&r.length===0&&i&&e.jsxs("div",{className:`rounded-2xl border ${h.mobileBorder} bg-white/98 dark:bg-slate-900/78 p-6 text-center space-y-3 shadow-sm`,children:[i.icon&&e.jsx("div",{className:"flex justify-center text-3xl",children:i.icon}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:i.title}),i.description&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i.description})]}),i.action]}),!d&&r.length>0&&r.map((u,y)=>e.jsx("div",{className:`rounded-2xl border ${h.mobileBorder} bg-white/98 dark:bg-slate-900/78 shadow-xl shadow-black/5 dark:shadow-none`,children:v?v(u,y):e.jsx("div",{className:"p-5 space-y-4",children:a.map(k=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:`text-xs font-semibold uppercase tracking-wide ${h.headerText}`,children:k.header}),e.jsx("span",{className:"text-sm text-slate-800 dark:text-slate-100",children:k.render(u,y)})]},k.id))})},s(u,y)))]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:`overflow-hidden rounded-3xl border ${h.container} backdrop-blur-md`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm text-slate-700 dark:text-slate-200",children:[e.jsx("thead",{className:`bg-gradient-to-r ${h.headerBackground}`,children:e.jsx("tr",{children:a.map(u=>e.jsx("th",{style:{minWidth:u.minWidth},className:`px-5 py-4 text-[0.7rem] font-semibold uppercase tracking-[0.14em] ${h.headerText} ${ee(u.align,n)} border-b ${h.divider} ${u.className??""}`,children:e.jsx("span",{className:"inline-flex items-center gap-2 whitespace-nowrap",children:u.header})},u.id))})}),e.jsxs("tbody",{children:[d&&e.jsx("tr",{children:e.jsx("td",{colSpan:a.length,className:"px-6 py-14",children:e.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[e.jsx("div",{className:`animate-spin rounded-full h-10 w-10 border-b-2 ${h.spinner}`}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:m??"Loading data..."})]})})}),!d&&r.length===0&&i&&e.jsx("tr",{children:e.jsx("td",{colSpan:a.length,className:"px-6 py-14 text-center text-slate-500 dark:text-slate-400",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.icon&&e.jsx("div",{className:"text-4xl",children:i.icon}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:i.title}),i.description&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i.description})]}),i.action]})})}),!d&&r.map((u,y)=>e.jsx("tr",{className:`transition-all duration-200 ${c&&y%2===1?h.zebraB:h.zebraA} ${h.hover} border-b ${h.divider}`,children:a.map(k=>{const x=g&&k.id===g?`border-s-4 ${h.accentBorder} ps-4 pe-2 font-semibold text-slate-900 dark:text-slate-100`:"";return e.jsx("td",{className:`px-5 py-4 align-middle ${ee(k.align,n)} ${k.className??""} ${x}`,children:k.render(u,y)},k.id)})},s(u,y)))]})]})})})})]})},Pe=()=>{const{t:r,i18n:a}=B(),s=a.dir()==="rtl",[n,d]=p.useState([]),[m,i]=p.useState(!0),[v,c]=p.useState(null),[o,f]=p.useState({isOpen:!1,type:"confirm",reservationId:null}),g=p.useCallback(async()=>{i(!0),c(null);try{const x=await ze();d(x)}catch{c(r("reservations.fetchError"))}finally{i(!1)}},[a.language,r]);p.useEffect(()=>{g()},[g]);const h=x=>{f({isOpen:!0,type:"confirm",reservationId:x})},u=x=>{f({isOpen:!0,type:"cancel",reservationId:x})},y=async()=>{if(!o.reservationId)return;const x=j.loading(o.type==="confirm"?r("reservations.confirming"):r("reservations.cancelling"));try{o.type==="confirm"?(await Me(o.reservationId),j.dismiss(x),j.success(r("reservations.confirmSuccess"))):(await Re(o.reservationId),j.dismiss(x),j.success(r("reservations.cancelSuccess"))),g()}catch(t){j.dismiss(x),j.error(`${o.type==="confirm"?r("reservations.confirmError"):r("reservations.cancelError")}: ${t.message}`)}finally{f({isOpen:!1,type:"confirm",reservationId:null})}},k=x=>new Date(x).toLocaleDateString(a.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"}),N=[{id:"patient",header:r("reservations.patient"),minWidth:"16rem",align:s?"right":"left",render:x=>e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-purple-600 dark:text-purple-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:x.user_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",x.id]})]})]})},{id:"service",header:r("reservations.service"),minWidth:"16rem",align:s?"right":"left",render:x=>e.jsxs("div",{className:`space-y-1 ${s?"text-right":"text-left"}`,children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:x.service_name}),e.jsxs("span",{className:"text-xs font-semibold text-purple-600 dark:text-purple-300",children:[x.price," ",r("dashboard.services.currency")]})]})},{id:"start",header:r("reservations.startDate"),minWidth:"12rem",render:x=>e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:k(x.start_date)})},{id:"end",header:r("reservations.endDate"),minWidth:"12rem",render:x=>e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:k(x.end_date)})},{id:"actions",header:r("common.actions"),align:"center",minWidth:"14rem",className:"whitespace-nowrap",render:x=>e.jsxs("div",{className:`flex items-center justify-center gap-3 ${s?"flex-row-reverse":""}`,children:[e.jsxs(w,{onClick:()=>h(x.id),section:"services",size:"sm",className:`text-xs gap-2 rounded-full px-4 ${s?"flex-row-reverse":""}`,children:[e.jsx(V,{className:"w-4 h-4"}),r("reservations.confirm")]}),e.jsxs(w,{onClick:()=>u(x.id),variant:"outline",size:"sm",className:`text-xs gap-2 rounded-full border-red-200 text-red-600 hover:text-red-700 hover:bg-red-50 dark:border-red-500/30 dark:text-red-300 dark:hover:bg-red-900/20 ${s?"flex-row-reverse":""}`,children:[e.jsx(U,{className:"w-4 h-4"}),r("reservations.cancel")]})]})}];return e.jsxs("div",{className:"space-y-6 w-full max-w-6xl mx-auto px-2 sm:px-0",children:[v&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:s?"mr-3":"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:v}),e.jsx("button",{onClick:g,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:r("reservations.retry")})]})]})}),e.jsxs($,{className:"w-full",children:[e.jsx(T,{className:"border-b border-slate-200/80 dark:border-slate-700/60 pb-6",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-1.5 lg:min-w-0 text-left",children:[e.jsxs(I,{className:"flex items-center gap-2 text-xl font-semibold text-slate-900 dark:text-slate-100 justify-start",children:[e.jsx(L,{className:"w-5 h-5 text-purple-600"}),r("reservations.pendingTitle")]}),e.jsx(_,{className:"text-sm text-slate-500 dark:text-slate-400 text-left",children:r("reservations.pendingDescription")})]}),e.jsxs(w,{onClick:g,disabled:m,variant:"outline",size:"sm",className:`w-full sm:w-auto flex items-center gap-2 rounded-full px-4 h-10 self-start lg:ml-auto ${s?"flex-row-reverse":"flex-row"}`,children:[m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("reservations.refresh")]})]})}),e.jsx(S,{children:e.jsx(X,{data:n,columns:N,getRowId:x=>x.id,isRTL:s,tone:"purple",primaryColumnId:"patient",loading:m,loadingLabel:r("reservations.loading"),emptyState:{icon:e.jsx(re,{className:"w-10 h-10 text-purple-400"}),title:r("reservations.noPending"),description:r("reservations.pendingDescription")},renderMobileCard:x=>e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 dark:bg-purple-500/20 flex items-center justify-center",children:e.jsx(E,{className:"w-6 h-6 text-purple-600 dark:text-purple-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:x.user_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",x.id]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"rounded-2xl border border-purple-100/70 dark:border-purple-500/30 bg-gradient-to-br from-purple-50/70 via-violet-50/50 to-indigo-50/50 dark:from-purple-900/30 dark:via-violet-900/20 dark:to-indigo-900/20 p-4 space-y-2",children:[e.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide text-purple-600 dark:text-purple-300 ${s?"text-right":""}`,children:r("reservations.service")}),e.jsx("p",{className:`text-sm font-medium text-gray-900 dark:text-gray-100 ${s?"text-right":""}`,children:x.service_name}),e.jsxs("p",{className:`text-sm font-semibold text-purple-600 dark:text-purple-300 ${s?"text-right":""}`,children:[x.price," ",r("dashboard.services.currency")]})]}),e.jsxs("div",{className:"rounded-2xl border border-indigo-100/70 dark:border-indigo-500/30 bg-gradient-to-br from-indigo-50/70 via-slate-50/50 to-sky-50/50 dark:from-indigo-900/30 dark:via-slate-900/20 dark:to-sky-900/20 p-4 space-y-2",children:[e.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide text-indigo-600 dark:text-indigo-300 ${s?"text-right":""}`,children:`${r("reservations.startDate")} / ${r("reservations.endDate")}`}),e.jsxs("p",{className:`text-sm text-gray-700 dark:text-gray-300 ${s?"text-right":""}`,children:[r("reservations.from"),": ",k(x.start_date)]}),e.jsxs("p",{className:`text-sm text-gray-700 dark:text-gray-300 ${s?"text-right":""}`,children:[r("reservations.to"),": ",k(x.end_date)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-1",children:[e.jsxs(w,{onClick:()=>h(x.id),section:"services",size:"sm",className:`w-full justify-center text-sm gap-2 rounded-full ${s?"flex-row-reverse":""}`,children:[e.jsx(V,{className:"w-4 h-4"}),r("reservations.confirm")]}),e.jsxs(w,{onClick:()=>u(x.id),variant:"outline",size:"sm",className:`w-full justify-center text-sm gap-2 rounded-full text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 ${s?"flex-row-reverse":""}`,children:[e.jsx(U,{className:"w-4 h-4"}),r("reservations.cancel")]})]})]})})})]}),e.jsx(J,{isOpen:o.isOpen,onClose:()=>f({isOpen:!1,type:"confirm",reservationId:null}),onConfirm:y,title:o.type==="confirm"?r("reservations.confirmDialogTitle"):r("reservations.cancelDialogTitle"),description:o.type==="confirm"?r("reservations.confirmDialogDescription"):r("reservations.cancelDialogDescription"),confirmText:o.type==="confirm"?r("reservations.confirm"):r("reservations.cancel"),cancelText:r("common.cancel"),type:o.type==="confirm"?"info":"danger"})]})},Fe=()=>{const{t:r,i18n:a}=B(),s=a.dir()==="rtl",[n,d]=p.useState([]),[m,i]=p.useState(!0),[v,c]=p.useState(null),[o,f]=p.useState("all"),[g,h]=p.useState(""),[u,y]=p.useState(""),[k,N]=p.useState(""),[x,t]=p.useState("date"),b=p.useCallback(async()=>{i(!0),c(null);try{const D=(await K()).filter(M=>M.status==="confirmed"||M.status==="cancelled");d(D)}catch{c(r("reservationsHistory.fetchError"))}finally{i(!1)}},[a.language,r]);p.useEffect(()=>{b()},[b]);const C=l=>{switch(l){case"confirmed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"cancelled":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}},z=l=>{switch(l){case"confirmed":return r("reservationsHistory.confirmedLabel");case"cancelled":return r("reservationsHistory.cancelledLabel");default:return l}},H=l=>{switch(l){case"confirmed":return e.jsx(V,{className:"w-4 h-4"});case"cancelled":return e.jsx(U,{className:"w-4 h-4"});default:return e.jsx(re,{className:"w-4 h-4"})}},O=n.filter(l=>{if(o!=="all"&&l.status!==o)return!1;if(g){const D=g.toLowerCase(),M=l.user_name.toLowerCase().includes(D),ne=l.service_name.toLowerCase().includes(D);if(!M&&!ne)return!1}return!(u&&l.start_date<u||k&&l.start_date>k)}).sort((l,D)=>{switch(x){case"date":return new Date(D.start_date).getTime()-new Date(l.start_date).getTime();case"price":return D.price-l.price;case"status":return l.status.localeCompare(D.status);default:return 0}}),ae=n.filter(l=>l.status==="confirmed").length,de=n.filter(l=>l.status==="cancelled").length,le=n.filter(l=>l.status==="confirmed").reduce((l,D)=>l+D.price,0),P=l=>new Date(l).toLocaleDateString(a.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"}),ie=[{id:"patient",header:r("reservationsHistory.patient"),minWidth:"16rem",align:s?"right":"left",render:l=>e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-500/10 dark:bg-indigo-500/20 flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:l.user_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",l.id]})]})]})},{id:"service",header:r("dashboard.services.serviceName"),minWidth:"16rem",align:s?"right":"left",render:l=>e.jsxs("div",{className:`space-y-1 ${s?"text-right":"text-left"}`,children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:l.service_name}),e.jsxs("span",{className:"text-xs font-semibold text-indigo-600 dark:text-indigo-300",children:[l.price," ",r("dashboard.services.currency")]})]})},{id:"start",header:r("reservationsHistory.dateFrom"),minWidth:"12rem",render:l=>e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:P(l.start_date)})},{id:"end",header:r("reservationsHistory.dateTo"),minWidth:"12rem",render:l=>e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:P(l.end_date)})},{id:"status",header:r("reservationsHistory.status"),align:"center",minWidth:"10rem",render:l=>e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${C(l.status)}`,children:[H(l.status),z(l.status)]})}];return e.jsxs("div",{className:"space-y-6 w-full max-w-6xl mx-auto px-2 sm:px-0",children:[v&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:s?"mr-3":"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:v}),e.jsx("button",{onClick:b,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:r("reservationsHistory.retry")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsx($,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:e.jsx(S,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600 dark:text-green-400",children:r("reservationsHistory.confirmedCount")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-700 dark:text-green-300 mt-1 sm:mt-2",children:ae})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-200 dark:bg-green-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(V,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})})]})})}),e.jsx($,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:e.jsx(S,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-600 dark:text-red-400",children:r("reservationsHistory.cancelledCount")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-red-700 dark:text-red-300 mt-1 sm:mt-2",children:de})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-200 dark:bg-red-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(U,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600 dark:text-red-400"})})]})})}),e.jsx($,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:e.jsx(S,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:r("reservationsHistory.totalRevenue")}),e.jsxs("p",{className:"text-base sm:text-xl md:text-2xl lg:text-3xl font-bold text-blue-700 dark:text-blue-300 mt-1 sm:mt-2 truncate",children:[le.toFixed(0)," ",r("dashboard.services.currency")]})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-200 dark:bg-blue-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})})]}),e.jsxs($,{className:"w-full",children:[e.jsx(T,{className:"border-b border-slate-200/80 dark:border-slate-700/60 pb-6",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-1.5 lg:min-w-0 text-left",children:[e.jsxs(I,{className:"flex items-center gap-2 text-xl font-semibold text-slate-900 dark:text-slate-100 justify-start",children:[e.jsx(L,{className:"w-5 h-5 text-indigo-600"}),r("reservationsHistory.title")]}),e.jsx(_,{className:"text-sm text-slate-500 dark:text-slate-400 text-left",children:r("reservationsHistory.description")})]}),e.jsxs(w,{onClick:b,disabled:m,variant:"outline",size:"sm",className:`w-full sm:w-auto flex items-center gap-2 rounded-full px-4 h-10 self-start lg:ml-auto ${s?"flex-row-reverse":"flex-row"}`,children:[m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("reservationsHistory.refresh")]})]})}),e.jsxs(S,{children:[e.jsx("div",{className:`flex flex-wrap gap-2 mb-4 ${s?"justify-end":""}`,children:[{key:"all",label:r("reservationsHistory.allRecords"),icon:"ðŸ“Š"},{key:"confirmed",label:r("reservationsHistory.confirmed"),icon:"âœ…"},{key:"cancelled",label:r("reservationsHistory.cancelled"),icon:"âŒ"}].map(({key:l,label:D,icon:M})=>e.jsxs(w,{variant:o===l?"default":"outline",size:"sm",onClick:()=>f(l),className:`${o===l?"bg-indigo-600 hover:bg-indigo-700":""} flex items-center gap-2 ${s?"flex-row-reverse":""}`,children:[e.jsx("span",{className:s?"mr-2":"ml-2",children:M}),D]},l))}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg ${s?"text-right":""}`,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("reservationsHistory.search")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:r("reservationsHistory.searchPlaceholder"),value:g,onChange:l=>h(l.target.value),autoComplete:"off",className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${s?"pl-10 pr-3 text-right":"pl-3 pr-10"}`}),e.jsx("svg",{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 ${s?"left-3":"right-3"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("reservationsHistory.dateFrom")}),e.jsx("input",{type:"date",value:u,onChange:l=>y(l.target.value),autoComplete:"off",className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${s?"pl-3 pr-3 text-right":"px-3"}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("reservationsHistory.dateTo")}),e.jsx("input",{type:"date",value:k,onChange:l=>N(l.target.value),autoComplete:"off",className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${s?"pl-3 pr-3 text-right":"px-3"}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("reservationsHistory.sortBy")}),e.jsxs("select",{value:x,onChange:l=>t(l.target.value),className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${s?"pl-3 pr-3 text-right":"px-3"}`,children:[e.jsx("option",{value:"date",children:r("reservationsHistory.sortDate")}),e.jsx("option",{value:"price",children:r("reservationsHistory.sortPrice")}),e.jsx("option",{value:"status",children:r("reservationsHistory.sortStatus")})]})]})]}),(g||u||k||o!=="all")&&e.jsxs("div",{className:`mb-4 flex items-center justify-between ${s?"flex-row-reverse text-right":""}`,children:[e.jsxs("p",{className:`text-sm text-gray-600 dark:text-gray-400 ${s?"text-right":""}`,children:[r("reservationsHistory.resultsCount")," ",e.jsx("span",{className:"font-semibold text-indigo-600",children:O.length})," ",r("reservationsHistory.of")," ",n.length]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>{h(""),y(""),N(""),f("all"),t("date")},className:`flex items-center gap-2 ${s?"flex-row-reverse":""}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),r("reservationsHistory.clearFilters")]})]}),e.jsx(X,{data:O,columns:ie,getRowId:l=>l.id,isRTL:s,tone:"indigo",primaryColumnId:"patient",loading:m,loadingLabel:r("reservationsHistory.loading"),emptyState:{icon:e.jsx(L,{className:"w-10 h-10 text-indigo-400"}),title:r("reservationsHistory.noRecords"),description:r("reservationsHistory.description")},renderMobileCard:l=>e.jsxs("div",{className:"p-5 space-y-5",children:[e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/10 dark:bg-indigo-500/20 flex items-center justify-center",children:e.jsx(E,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:l.user_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",l.id]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"rounded-2xl border border-blue-100/70 dark:border-blue-500/30 bg-gradient-to-br from-blue-50/60 via-indigo-50/40 to-violet-50/40 dark:from-blue-900/30 dark:via-indigo-900/20 dark:to-violet-900/20 p-4 space-y-2",children:[e.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide text-blue-600 dark:text-blue-300 ${s?"text-right":""}`,children:r("dashboard.services.serviceName")}),e.jsx("p",{className:`text-sm font-medium text-gray-900 dark:text-gray-100 ${s?"text-right":""}`,children:l.service_name}),e.jsxs("p",{className:`text-sm font-semibold text-indigo-600 dark:text-indigo-300 ${s?"text-right":""}`,children:[l.price," ",r("dashboard.services.currency")]})]}),e.jsxs("div",{className:"rounded-2xl border border-emerald-100/70 dark:border-emerald-500/30 bg-gradient-to-br from-emerald-50/60 via-teal-50/40 to-green-50/40 dark:from-emerald-900/30 dark:via-teal-900/20 dark:to-green-900/20 p-4 space-y-2",children:[e.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide text-emerald-600 dark:text-emerald-300 ${s?"text-right":""}`,children:`${r("reservationsHistory.from")} / ${r("reservationsHistory.to")}`}),e.jsx("p",{className:`text-sm text-gray-700 dark:text-gray-300 ${s?"text-right":""}`,children:P(l.start_date)}),e.jsx("p",{className:`text-sm text-gray-700 dark:text-gray-300 ${s?"text-right":""}`,children:P(l.end_date)})]})]}),e.jsx("div",{className:`flex justify-start ${s?"flex-row-reverse":""}`,children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-semibold ${C(l.status)}`,children:[H(l.status),z(l.status)]})})]})})]})]})]})},q=({onEdit:r,onDelete:a,showEdit:s=!0,showDelete:n=!0,size:d="sm",disabled:m=!1})=>{const i={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},v={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s&&r&&e.jsxs("button",{onClick:r,disabled:m,title:"Edit",className:`
            ${i[d]}
            relative group overflow-hidden
            bg-gradient-to-br from-blue-500 to-blue-600
            hover:from-blue-600 hover:to-blue-700
            dark:from-blue-600 dark:to-blue-700
            dark:hover:from-blue-700 dark:hover:to-blue-800
            text-white font-semibold rounded-full
            shadow-lg hover:shadow-xl hover:shadow-blue-500/50
            transform hover:-translate-y-1 hover:scale-110
            transition-all duration-300
            disabled:opacity-50 disabled:cursor-not-allowed
            disabled:transform-none disabled:hover:shadow-lg
            flex items-center justify-center
            border-2 border-blue-400/30
          `,children:[e.jsx("span",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 group-hover:animate-ping"}),e.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/0 via-white/30 to-white/0 opacity-0 group-hover:opacity-100 group-hover:animate-spin"}),e.jsx("svg",{className:`${v[d]} relative z-10 group-hover:rotate-12 transition-transform duration-300`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})]}),n&&a&&e.jsxs("button",{onClick:a,disabled:m,title:"Delete",className:`
            ${i[d]}
            relative group overflow-hidden
            bg-gradient-to-br from-red-500 to-rose-600
            hover:from-red-600 hover:to-rose-700
            dark:from-red-600 dark:to-rose-700
            dark:hover:from-red-700 dark:hover:to-rose-800
            text-white font-semibold rounded-full
            shadow-lg hover:shadow-xl hover:shadow-red-500/50
            transform hover:-translate-y-1 hover:scale-110
            transition-all duration-300
            disabled:opacity-50 disabled:cursor-not-allowed
            disabled:transform-none disabled:hover:shadow-lg
            flex items-center justify-center
            border-2 border-red-400/30
          `,children:[e.jsx("span",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 group-hover:animate-ping"}),e.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/0 via-white/30 to-white/0 opacity-0 group-hover:opacity-100 group-hover:animate-pulse"}),e.jsx("svg",{className:`${v[d]} relative z-10 group-hover:scale-110 transition-transform duration-300`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})]})},Ve=({hospital:r,account:a,refreshData:s})=>{const{t:n,i18n:d}=B(),[m,i]=p.useState(!1),[v,c]=p.useState(!1),o=async f=>{f.preventDefault(),c(!0);const g=new FormData(f.currentTarget);try{await je(g),j.success(n("dashboard.profile.updateSuccess")),i(!1),s()}catch(h){j.error(`${n("common.error")}: ${h.message}`)}finally{c(!1)}};return!r||!a?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 dark:border-teal-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n("dashboard.profile.loading")})]})}):e.jsx("div",{className:"space-y-6 w-full max-w-3xl mx-auto",children:e.jsxs($,{children:[e.jsxs(T,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-teal-600"}),n("dashboard.profile.title")]}),e.jsx(_,{children:n("dashboard.profile.description")})]}),e.jsx(S,{children:m?e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(R,{label:n("dashboard.profile.hospitalName"),name:"full_name",defaultValue:r.full_name,required:!0}),e.jsx(R,{label:n("dashboard.profile.address"),name:"address",defaultValue:r.address,required:!0}),e.jsx(R,{label:n("dashboard.profile.phone"),name:"phone_number",defaultValue:a.phone_number,required:!0})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{type:"submit",disabled:v,section:"hospital",children:n(v?"common.saving":"common.saveChanges")}),e.jsx(w,{type:"button",onClick:()=>i(!1),variant:"outline",children:n("common.cancel")})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:n("dashboard.profile.hospitalName")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:r.full_name})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:n("dashboard.profile.address")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:r.address})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:n("dashboard.profile.email")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.email})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:n("dashboard.profile.phone")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.phone_number})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:n("dashboard.profile.status")}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${a.is_approved==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:a.is_approved==="approved"?n("dashboard.profile.approved"):n("dashboard.profile.pending")})]}),e.jsxs(w,{onClick:()=>i(!0),section:"hospital",children:[e.jsx(De,{className:`w-4 h-4 ${d.language==="ar"?"mr-2":"ml-2"}`}),n("dashboard.profile.editProfile")]})]})]})})]})})},Ue=()=>{const{t:r,i18n:a}=B(),s=a.dir()==="rtl",[n,d]=p.useState([]),[m,i]=p.useState(!0),[v,c]=p.useState(!1),[o,f]=p.useState(null),[g,h]=p.useState({isOpen:!1,serviceId:null}),u=p.useCallback(async()=>{i(!0);try{const t=await ge();d(t)}catch{j.error(r("dashboard.services.saveError"))}finally{i(!1)}},[a.language,r]);p.useEffect(()=>{u()},[u]);const y=t=>{h({isOpen:!0,serviceId:t})},k=async()=>{if(!g.serviceId)return;const t=j.loading(r("dashboard.services.deleting"));try{await ve(g.serviceId),j.dismiss(t),j.success(r("dashboard.services.deleteSuccess")),u()}catch{j.dismiss(t),j.error(r("dashboard.services.deleteError"))}finally{h({isOpen:!1,serviceId:null})}},N=async t=>{t.preventDefault();const b=new FormData(t.currentTarget),C=b.get("price"),z=b.get("capacity"),H=j.loading(r(o?"dashboard.services.updating":"dashboard.services.adding"));try{o?C&&z&&await pe(o.id,Number(C),Number(z)):await fe(b),j.dismiss(H),j.success(r(o?"dashboard.services.updateSuccess":"dashboard.services.addSuccess")),u(),c(!1),f(null)}catch(O){j.dismiss(H),j.error(`${r("dashboard.services.saveError")}: ${O.message}`)}},x=[{id:"service",header:r("dashboard.services.serviceName"),minWidth:"16rem",align:s?"right":"left",render:t=>e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:t.service_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",t.id]})]})]})},{id:"price",header:r("dashboard.services.price"),align:"center",minWidth:"10rem",render:t=>e.jsxs("span",{className:"text-base font-semibold text-blue-600 dark:text-blue-300",children:[t.price," ",r("dashboard.services.currency")]})},{id:"capacity",header:r("dashboard.services.capacity"),align:"center",minWidth:"8rem",render:t=>e.jsx("span",{className:"inline-flex items-center justify-center gap-1 rounded-full bg-emerald-500/10 text-emerald-600 dark:text-emerald-300 px-3 py-1 text-sm font-medium",children:t.capacity})},{id:"actions",header:r("common.actions"),align:"center",minWidth:"12rem",className:"whitespace-nowrap",render:t=>e.jsx("div",{className:`flex justify-center ${s?"flex-row-reverse":""}`,children:e.jsx(q,{onEdit:()=>{f(t),c(!0)},onDelete:()=>y(t.id),size:"sm"})})}];return e.jsxs("div",{className:"space-y-6 w-full max-w-6xl mx-auto px-2 sm:px-0",children:[e.jsxs($,{className:"w-full",dir:s?"rtl":"ltr",children:[e.jsx(T,{className:"border-b border-slate-200/80 dark:border-slate-700/60 pb-6",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-6",children:[e.jsxs(w,{onClick:()=>{f(null),c(!0)},section:"services",className:`w-full sm:w-auto text-xs sm:text-sm px-4 h-10 rounded-full inline-flex items-center gap-2 shadow-sm self-start lg:order-2 lg:ml-auto ${s?"flex-row-reverse":"flex-row"}`,children:[e.jsx(se,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden xs:inline",children:r("dashboard.services.addService")}),e.jsx("span",{className:"xs:hidden",children:r("dashboard.services.add")})]}),e.jsxs("div",{className:"flex-1 space-y-1.5 lg:min-w-0 lg:order-1 text-left",children:[e.jsxs(I,{className:"flex items-center gap-2 text-xl font-semibold text-slate-900 dark:text-slate-100 justify-start",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),r("dashboard.services.title")]}),e.jsx(_,{className:"text-sm text-slate-500 dark:text-slate-400 text-left",children:r("dashboard.services.description")})]})]})}),e.jsx(S,{children:e.jsx(X,{data:n,columns:x,getRowId:t=>t.id,isRTL:s,tone:"blue",primaryColumnId:"service",loading:m,loadingLabel:r("common.loading"),emptyState:{icon:e.jsx(A,{className:"w-10 h-10 text-blue-400"}),title:r("dashboard.services.noServices"),description:r("dashboard.services.description")},renderMobileCard:t=>e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 dark:bg-blue-500/20 flex items-center justify-center shadow-inner",children:e.jsx(A,{className:"w-6 h-6 text-blue-600 dark:text-blue-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:t.service_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("dashboard.services.capacity"),": ",e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:t.capacity})]})]})]}),e.jsxs("div",{className:`flex items-center justify-between rounded-2xl border border-blue-100/70 dark:border-blue-500/30 bg-blue-50/60 dark:bg-blue-900/20 px-4 py-2 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-blue-600 dark:text-blue-300",children:r("dashboard.services.price")}),e.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-200",children:[t.price," ",r("dashboard.services.currency")]})]}),e.jsx("div",{className:`flex justify-center ${s?"flex-row-reverse":""}`,children:e.jsx(q,{onEdit:()=>{f(t),c(!0)},onDelete:()=>y(t.id),size:"sm"})})]})})})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs($,{className:"w-full max-w-md dark:bg-gray-800",children:[e.jsx(T,{children:e.jsx(I,{children:r(o?"dashboard.services.editService":"dashboard.services.addService")})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[!o&&e.jsx(R,{label:r("dashboard.services.serviceName"),name:"service_name",required:!0}),e.jsx(R,{label:r("dashboard.services.price"),name:"price",type:"number",defaultValue:o==null?void 0:o.price,required:!0}),e.jsx(R,{label:r("dashboard.services.capacity"),name:"capacity",type:"number",defaultValue:o==null?void 0:o.capacity,required:!0}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx(w,{type:"button",onClick:()=>c(!1),variant:"outline",children:r("common.cancel")}),e.jsx(w,{type:"submit",section:"services",children:r("common.save")})]})]})})]})}),e.jsx(J,{isOpen:g.isOpen,onClose:()=>h({isOpen:!1,serviceId:null}),onConfirm:k,title:r("common.confirm"),description:r("dashboard.services.deleteConfirm"),confirmText:r("common.delete"),cancelText:r("common.cancel"),type:"danger"})]})},qe=()=>{const{t:r,i18n:a}=B(),s=a.dir()==="rtl",[n,d]=p.useState([]),[m,i]=p.useState(!0),[v,c]=p.useState(null),[o,f]=p.useState({isOpen:!1,dayId:null}),g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=t=>(t.toLowerCase(),r(`dashboard.schedule.${{sunday:"sunday",monday:"monday",tuesday:"tuesday",wednesday:"wednesday",thursday:"thursday",friday:"friday",saturday:"saturday"}[t.toLowerCase()]||t.toLowerCase()}`)),u=p.useCallback(async()=>{i(!0),c(null);try{const t=await he();d(t)}catch{c(r("dashboard.schedule.fetchError")),d([])}finally{i(!1)}},[a.language,r]);p.useEffect(()=>{u()},[u]);const y=async t=>{t.preventDefault();const C=new FormData(t.currentTarget).get("day_of_week");if(n.find(H=>H.day_of_week.toLowerCase()===C.toLowerCase())){j.warning(r("dashboard.schedule.alreadyAdded"));return}const z=j.loading(r("dashboard.schedule.adding"));try{await ue(C),j.dismiss(z),j.success(r("dashboard.schedule.addSuccess")),u(),t.target.reset()}catch(H){j.dismiss(z),j.error(`${r("dashboard.schedule.addError")}: ${H.message}`)}},k=t=>{f({isOpen:!0,dayId:t})},N=async()=>{if(!o.dayId)return;const t=j.loading(r("dashboard.schedule.deleting"));try{await be(o.dayId),j.dismiss(t),j.success(r("dashboard.schedule.deleteSuccess")),u()}catch(b){j.dismiss(t),j.error(`${r("dashboard.schedule.deleteError")}: ${b.message}`)}finally{f({isOpen:!1,dayId:null})}},x=[{id:"day",header:r("dashboard.schedule.workDay"),minWidth:"18rem",align:s?"right":"left",render:t=>e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 dark:bg-emerald-500/20 flex items-center justify-center",children:e.jsx(L,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:h(t.day_of_week)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.day_of_week})]})]})},{id:"actions",header:r("common.actions"),align:"center",minWidth:"10rem",render:t=>e.jsx("div",{className:`flex justify-center ${s?"flex-row-reverse":""}`,children:e.jsx(q,{onDelete:()=>k(t.id),showEdit:!1,size:"sm"})})}];return e.jsxs("div",{className:"space-y-6 w-full max-w-5xl mx-auto px-2 sm:px-0",children:[v&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:s?"mr-3":"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:v}),e.jsx("button",{onClick:u,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:r("dashboard.schedule.retry")})]})]})}),e.jsxs($,{className:"w-full",dir:s?"rtl":"ltr",children:[e.jsx(T,{className:"border-b border-slate-200/80 dark:border-slate-700/60 pb-6",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-1.5 lg:min-w-0 text-left",children:[e.jsxs(I,{className:"flex items-center gap-2 text-xl font-semibold text-slate-900 dark:text-slate-100 justify-start",children:[e.jsx(W,{className:"w-5 h-5 text-green-600"}),r("dashboard.schedule.title")]}),e.jsx(_,{className:"text-sm text-slate-500 dark:text-slate-400 text-left",children:r("dashboard.schedule.description")})]}),e.jsxs(w,{onClick:u,disabled:m,variant:"outline",size:"sm",className:`w-full sm:w-auto flex items-center gap-2 rounded-full px-4 h-10 self-start lg:ml-auto ${s?"flex-row-reverse":"flex-row"}`,children:[m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("dashboard.schedule.refresh")]})]})}),e.jsx(S,{children:e.jsx("form",{onSubmit:y,className:"space-y-4",children:e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${s?"text-right":""}`,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"day_of_week",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("dashboard.schedule.selectDay")}),e.jsx("select",{name:"day_of_week",id:"day_of_week",className:`flex h-10 w-full rounded-md border border-input bg-background py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 dark:text-black ${s?"pl-3 pr-8 text-right":"pl-3 pr-8"}`,children:g.map(t=>e.jsx("option",{value:t,children:h(t)},t))})]}),e.jsx("div",{className:`flex items-end ${s?"justify-end":""}`,children:e.jsxs(w,{type:"submit",section:"hospital",className:`w-full md:w-auto flex items-center justify-center gap-2 text-xs sm:text-sm px-2 sm:px-4 h-8 sm:h-10 ${s?"flex-row-reverse":""}`,children:[e.jsx(se,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r("dashboard.schedule.addDay")]})})]})})})]}),e.jsxs($,{className:"w-full",dir:s?"rtl":"ltr",children:[e.jsx(T,{className:"border-b border-slate-200/80 dark:border-slate-700/60 pb-6",children:e.jsxs("div",{className:`space-y-1.5 ${s?"text-right":"text-left"}`,children:[e.jsxs(I,{className:`flex items-center gap-2 text-xl font-semibold text-slate-900 dark:text-slate-100 ${s?"flex-row-reverse justify-end text-right":"justify-start text-left"}`,children:[e.jsx(L,{className:"w-5 h-5 text-green-600"}),r("dashboard.schedule.currentDays")]}),e.jsx(_,{className:"text-sm text-slate-500 dark:text-slate-400",children:r("dashboard.schedule.currentDaysDesc")})]})}),e.jsx(S,{children:e.jsx(X,{data:n,columns:x,getRowId:t=>t.id,isRTL:s,tone:"green",primaryColumnId:"day",loading:m,loadingLabel:r("common.loading"),emptyState:{icon:e.jsx(L,{className:"w-10 h-10 text-emerald-400"}),title:r("dashboard.schedule.noDays"),description:r("dashboard.schedule.description")},renderMobileCard:t=>e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:`flex items-center gap-3 ${s?"flex-row-reverse text-right":""}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 dark:bg-emerald-500/20 flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-300"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:h(t.day_of_week)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.day_of_week})]})]}),e.jsx("div",{className:`flex justify-center ${s?"flex-row-reverse":""}`,children:e.jsx(q,{onDelete:()=>k(t.id),showEdit:!1,size:"sm"})})]})})})]}),e.jsx(J,{isOpen:o.isOpen,onClose:()=>f({isOpen:!1,dayId:null}),onConfirm:N,title:r("common.confirm"),description:r("dashboard.schedule.deleteConfirm"),confirmText:r("common.delete"),cancelText:r("common.cancel"),type:"danger"})]})},Ke=({onLogout:r})=>{var x;const{t:a,i18n:s}=B(),[n,d]=p.useState("overview"),[m,i]=p.useState({hospital:null,account:null}),[v,c]=p.useState(!0),[o,f]=p.useState(!1),g=p.useCallback(async()=>{c(!0);try{const[t,b]=await xe();i({account:t,hospital:b})}catch{r()}finally{c(!1)}},[s.language,r]);p.useEffect(()=>{g()},[g]);const h=async()=>{try{await me()}catch{}finally{r()}},u=t=>{(t==="overview"||t==="profile"||t==="services"||t==="schedule"||t==="reservations"||t==="history")&&d(t)},y=()=>{var t,b;switch(n){case"overview":return e.jsx(Z,{onNavigate:u,userFullName:(t=m.hospital)==null?void 0:t.full_name});case"profile":return e.jsx(Ve,{hospital:m.hospital,account:m.account,refreshData:g});case"services":return e.jsx(Ue,{});case"schedule":return e.jsx(qe,{});case"reservations":return e.jsx(Pe,{});case"history":return e.jsx(Fe,{});default:return e.jsx(Z,{onNavigate:u,userFullName:(b=m.hospital)==null?void 0:b.full_name})}},N=(()=>{switch(n){case"overview":return null;case"profile":return{title:a("dashboard.profile.title"),description:a("dashboard.profile.description"),icon:"ðŸ‘¤",color:"from-teal-500 to-cyan-600"};case"services":return{title:a("dashboard.services.title"),description:a("dashboard.services.description"),icon:"ðŸ¥",color:"from-blue-500 to-cyan-600"};case"schedule":return{title:a("dashboard.navigation.workSchedule"),description:a("dashboard.schedule.description"),icon:"ðŸ“…",color:"from-green-500 to-emerald-600"};case"reservations":return{title:a("dashboard.navigation.reservations"),description:a("dashboard.navigation.reservations"),icon:"â³",color:"from-purple-500 to-indigo-600"};case"history":return{title:a("dashboard.navigation.reservationHistory"),description:a("dashboard.navigation.history"),icon:"ðŸ“œ",color:"from-indigo-500 to-purple-600"};default:return null}})();return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col overflow-x-hidden transition-colors duration-200",children:[e.jsx(Ie,{onLogout:h,onMenuClick:()=>f(!0),userFullName:(x=m.hospital)==null?void 0:x.full_name,activeTab:n,onTabChange:u}),e.jsx(_e,{isOpen:o,onClose:()=>f(!1),activeTab:n,onTabChange:t=>{d(t)}}),e.jsx("div",{className:"flex-1 flex flex-col pt-14 sm:pt-16",children:e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-gray-50 dark:bg-gray-900 items-stretch",children:[N&&e.jsx("div",{className:`bg-gradient-to-r ${N.color} text-white shadow-lg w-full`,children:e.jsx("div",{className:"px-2 sm:px-4 py-3",children:e.jsxs("div",{className:`flex items-center gap-2 ${s.language==="ar"?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:"text-2xl",children:N.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base sm:text-lg font-bold",children:N.title}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm opacity-90",children:N.description})]})]})})}),e.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 py-6 flex-1 flex flex-col overflow-x-hidden",children:y()})]})})]})};export{Ke as default};
