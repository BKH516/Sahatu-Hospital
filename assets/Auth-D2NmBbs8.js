import{j as e,r as N,f as rr,a as ar,l as sr,s as Le,C as nr,b as or}from"./index-CfyB2B4m.js";import{C as It,a as lr,b as ir,c as cr,d as Pt,I as z,B as Oe,H as At}from"./Input-DpwRVaaS.js";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:zt,setPrototypeOf:jt,isFrozen:dr,getPrototypeOf:mr,getOwnPropertyDescriptor:ur}=Object;let{freeze:M,seal:U,create:Ut}=Object,{apply:Qe,construct:et}=typeof Reflect<"u"&&Reflect;M||(M=function(r){return r});U||(U=function(r){return r});Qe||(Qe=function(r,n){for(var s=arguments.length,c=new Array(s>2?s-2:0),m=2;m<s;m++)c[m-2]=arguments[m];return r.apply(n,c)});et||(et=function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),c=1;c<n;c++)s[c-1]=arguments[c];return new r(...s)});const Me=C(Array.prototype.forEach),fr=C(Array.prototype.lastIndexOf),St=C(Array.prototype.pop),be=C(Array.prototype.push),pr=C(Array.prototype.splice),Re=C(String.prototype.toLowerCase),qe=C(String.prototype.toString),Ve=C(String.prototype.match),ye=C(String.prototype.replace),hr=C(String.prototype.indexOf),xr=C(String.prototype.trim),F=C(Object.prototype.hasOwnProperty),L=C(RegExp.prototype.test),ve=gr(TypeError);function C(l){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),c=1;c<n;c++)s[c-1]=arguments[c];return Qe(l,r,s)}}function gr(l){return function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return et(l,n)}}function d(l,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re;jt&&jt(l,null);let s=r.length;for(;s--;){let c=r[s];if(typeof c=="string"){const m=n(c);m!==c&&(dr(r)||(r[s]=m),c=m)}l[c]=!0}return l}function br(l){for(let r=0;r<l.length;r++)F(l,r)||(l[r]=null);return l}function V(l){const r=Ut(null);for(const[n,s]of zt(l))F(l,n)&&(Array.isArray(s)?r[n]=br(s):s&&typeof s=="object"&&s.constructor===Object?r[n]=V(s):r[n]=s);return r}function we(l,r){for(;l!==null;){const s=ur(l,r);if(s){if(s.get)return C(s.get);if(typeof s.value=="function")return C(s.value)}l=mr(l)}function n(){return null}return n}const Lt=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xe=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$e=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yr=M(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ke=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vr=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mt=M(["#text"]),Ct=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ze=M(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rt=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ce=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),wr=U(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kr=U(/<%[\w\W]*|[\w\W]*%>/gm),Nr=U(/\$\{[\w\W]*/gm),Tr=U(/^data-[\-\w.\u00B7-\uFFFF]+$/),Er=U(/^aria-[\-\w]+$/),Ft=U(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_r=U(/^(?:\w+script|data):/i),Ar=U(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ht=U(/^html$/i),jr=U(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ot=Object.freeze({__proto__:null,ARIA_ATTR:Er,ATTR_WHITESPACE:Ar,CUSTOM_ELEMENT:jr,DATA_ATTR:Tr,DOCTYPE_NAME:Ht,ERB_EXPR:kr,IS_ALLOWED_URI:Ft,IS_SCRIPT_OR_DATA:_r,MUSTACHE_EXPR:wr,TMPLIT_EXPR:Nr});const ke={element:1,text:3,progressingInstruction:7,comment:8,document:9},Sr=function(){return typeof window>"u"?null:window},Lr=function(r,n){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let s=null;const c="data-tt-policy-suffix";n&&n.hasAttribute(c)&&(s=n.getAttribute(c));const m="dompurify"+(s?"#"+s:"");try{return r.createPolicy(m,{createHTML(p){return p},createScriptURL(p){return p}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},Dt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Wt(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sr();const r=i=>Wt(i);if(r.version="3.2.7",r.removed=[],!l||!l.document||l.document.nodeType!==ke.document||!l.Element)return r.isSupported=!1,r;let{document:n}=l;const s=n,c=s.currentScript,{DocumentFragment:m,HTMLTemplateElement:p,Node:h,Element:R,NodeFilter:j,NamedNodeMap:O=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:$,DOMParser:W,trustedTypes:T}=l,S=R.prototype,B=we(S,"cloneNode"),te=we(S,"remove"),re=we(S,"nextSibling"),K=we(S,"childNodes"),E=we(S,"parentNode");if(typeof p=="function"){const i=n.createElement("template");i.content&&i.content.ownerDocument&&(n=i.content.ownerDocument)}let f,_="";const{implementation:I,createNodeIterator:P,createDocumentFragment:fe,getElementsByTagName:Z}=n,{importNode:J}=s;let v=Dt();r.isSupported=typeof zt=="function"&&typeof E=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ae,ERB_EXPR:pe,TMPLIT_EXPR:se,DATA_ATTR:Gt,ARIA_ATTR:Yt,IS_SCRIPT_OR_DATA:qt,ATTR_WHITESPACE:rt,CUSTOM_ELEMENT:Vt}=Ot;let{IS_ALLOWED_URI:at}=Ot,b=null;const st=d({},[...Lt,...Xe,...$e,...Ke,...Mt]);let w=null;const nt=d({},[...Ct,...Ze,...Rt,...Ce]);let x=Object.seal(Ut(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),he=null,De=null,ot=!0,Ie=!0,lt=!1,it=!0,ne=!1,Ne=!0,Q=!1,Pe=!1,ze=!1,oe=!1,Te=!1,Ee=!1,ct=!0,dt=!1;const Xt="user-content-";let Ue=!0,xe=!1,le={},ie=null;const mt=d({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ut=null;const ft=d({},["audio","video","img","source","image","track"]);let Fe=null;const pt=d({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_e="http://www.w3.org/1998/Math/MathML",Ae="http://www.w3.org/2000/svg",G="http://www.w3.org/1999/xhtml";let ce=G,He=!1,We=null;const $t=d({},[_e,Ae,G],qe);let je=d({},["mi","mo","mn","ms","mtext"]),Se=d({},["annotation-xml"]);const Kt=d({},["title","style","font","a","script"]);let ge=null;const Zt=["application/xhtml+xml","text/html"],Jt="text/html";let y=null,de=null;const Qt=n.createElement("form"),ht=function(t){return t instanceof RegExp||t instanceof Function},Be=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(de&&de===t)){if((!t||typeof t!="object")&&(t={}),t=V(t),ge=Zt.indexOf(t.PARSER_MEDIA_TYPE)===-1?Jt:t.PARSER_MEDIA_TYPE,y=ge==="application/xhtml+xml"?qe:Re,b=F(t,"ALLOWED_TAGS")?d({},t.ALLOWED_TAGS,y):st,w=F(t,"ALLOWED_ATTR")?d({},t.ALLOWED_ATTR,y):nt,We=F(t,"ALLOWED_NAMESPACES")?d({},t.ALLOWED_NAMESPACES,qe):$t,Fe=F(t,"ADD_URI_SAFE_ATTR")?d(V(pt),t.ADD_URI_SAFE_ATTR,y):pt,ut=F(t,"ADD_DATA_URI_TAGS")?d(V(ft),t.ADD_DATA_URI_TAGS,y):ft,ie=F(t,"FORBID_CONTENTS")?d({},t.FORBID_CONTENTS,y):mt,he=F(t,"FORBID_TAGS")?d({},t.FORBID_TAGS,y):V({}),De=F(t,"FORBID_ATTR")?d({},t.FORBID_ATTR,y):V({}),le=F(t,"USE_PROFILES")?t.USE_PROFILES:!1,ot=t.ALLOW_ARIA_ATTR!==!1,Ie=t.ALLOW_DATA_ATTR!==!1,lt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,it=t.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=t.SAFE_FOR_TEMPLATES||!1,Ne=t.SAFE_FOR_XML!==!1,Q=t.WHOLE_DOCUMENT||!1,oe=t.RETURN_DOM||!1,Te=t.RETURN_DOM_FRAGMENT||!1,Ee=t.RETURN_TRUSTED_TYPE||!1,ze=t.FORCE_BODY||!1,ct=t.SANITIZE_DOM!==!1,dt=t.SANITIZE_NAMED_PROPS||!1,Ue=t.KEEP_CONTENT!==!1,xe=t.IN_PLACE||!1,at=t.ALLOWED_URI_REGEXP||Ft,ce=t.NAMESPACE||G,je=t.MATHML_TEXT_INTEGRATION_POINTS||je,Se=t.HTML_INTEGRATION_POINTS||Se,x=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(x.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ht(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(x.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(x.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(Ie=!1),Te&&(oe=!0),le&&(b=d({},Mt),w=[],le.html===!0&&(d(b,Lt),d(w,Ct)),le.svg===!0&&(d(b,Xe),d(w,Ze),d(w,Ce)),le.svgFilters===!0&&(d(b,$e),d(w,Ze),d(w,Ce)),le.mathMl===!0&&(d(b,Ke),d(w,Rt),d(w,Ce))),t.ADD_TAGS&&(b===st&&(b=V(b)),d(b,t.ADD_TAGS,y)),t.ADD_ATTR&&(w===nt&&(w=V(w)),d(w,t.ADD_ATTR,y)),t.ADD_URI_SAFE_ATTR&&d(Fe,t.ADD_URI_SAFE_ATTR,y),t.FORBID_CONTENTS&&(ie===mt&&(ie=V(ie)),d(ie,t.FORBID_CONTENTS,y)),Ue&&(b["#text"]=!0),Q&&d(b,["html","head","body"]),b.table&&(d(b,["tbody"]),delete he.tbody),t.TRUSTED_TYPES_POLICY){if(typeof t.TRUSTED_TYPES_POLICY.createHTML!="function")throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof t.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ve('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');f=t.TRUSTED_TYPES_POLICY,_=f.createHTML("")}else f===void 0&&(f=Lr(T,c)),f!==null&&typeof _=="string"&&(_=f.createHTML(""));M&&M(t),de=t}},xt=d({},[...Xe,...$e,...yr]),gt=d({},[...Ke,...vr]),er=function(t){let a=E(t);(!a||!a.tagName)&&(a={namespaceURI:ce,tagName:"template"});const o=Re(t.tagName),u=Re(a.tagName);return We[t.namespaceURI]?t.namespaceURI===Ae?a.namespaceURI===G?o==="svg":a.namespaceURI===_e?o==="svg"&&(u==="annotation-xml"||je[u]):!!xt[o]:t.namespaceURI===_e?a.namespaceURI===G?o==="math":a.namespaceURI===Ae?o==="math"&&Se[u]:!!gt[o]:t.namespaceURI===G?a.namespaceURI===Ae&&!Se[u]||a.namespaceURI===_e&&!je[u]?!1:!gt[o]&&(Kt[o]||!xt[o]):!!(ge==="application/xhtml+xml"&&We[t.namespaceURI]):!1},H=function(t){be(r.removed,{element:t});try{E(t).removeChild(t)}catch{te(t)}},ee=function(t,a){try{be(r.removed,{attribute:a.getAttributeNode(t),from:a})}catch{be(r.removed,{attribute:null,from:a})}if(a.removeAttribute(t),t==="is")if(oe||Te)try{H(a)}catch{}else try{a.setAttribute(t,"")}catch{}},bt=function(t){let a=null,o=null;if(ze)t="<remove></remove>"+t;else{const g=Ve(t,/^[\r\n\t ]+/);o=g&&g[0]}ge==="application/xhtml+xml"&&ce===G&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const u=f?f.createHTML(t):t;if(ce===G)try{a=new W().parseFromString(u,ge)}catch{}if(!a||!a.documentElement){a=I.createDocument(ce,"template",null);try{a.documentElement.innerHTML=He?_:u}catch{}}const A=a.body||a.documentElement;return t&&o&&A.insertBefore(n.createTextNode(o),A.childNodes[0]||null),ce===G?Z.call(a,Q?"html":"body")[0]:Q?a.documentElement:A},yt=function(t){return P.call(t.ownerDocument||t,t,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},Ge=function(t){return t instanceof $&&(typeof t.nodeName!="string"||typeof t.textContent!="string"||typeof t.removeChild!="function"||!(t.attributes instanceof O)||typeof t.removeAttribute!="function"||typeof t.setAttribute!="function"||typeof t.namespaceURI!="string"||typeof t.insertBefore!="function"||typeof t.hasChildNodes!="function")},vt=function(t){return typeof h=="function"&&t instanceof h};function Y(i,t,a){Me(i,o=>{o.call(r,t,a,de)})}const wt=function(t){let a=null;if(Y(v.beforeSanitizeElements,t,null),Ge(t))return H(t),!0;const o=y(t.nodeName);if(Y(v.uponSanitizeElement,t,{tagName:o,allowedTags:b}),Ne&&t.hasChildNodes()&&!vt(t.firstElementChild)&&L(/<[/\w!]/g,t.innerHTML)&&L(/<[/\w!]/g,t.textContent)||t.nodeType===ke.progressingInstruction||Ne&&t.nodeType===ke.comment&&L(/<[/\w]/g,t.data))return H(t),!0;if(!b[o]||he[o]){if(!he[o]&&Nt(o)&&(x.tagNameCheck instanceof RegExp&&L(x.tagNameCheck,o)||x.tagNameCheck instanceof Function&&x.tagNameCheck(o)))return!1;if(Ue&&!ie[o]){const u=E(t)||t.parentNode,A=K(t)||t.childNodes;if(A&&u){const g=A.length;for(let D=g-1;D>=0;--D){const q=B(A[D],!0);q.__removalCount=(t.__removalCount||0)+1,u.insertBefore(q,re(t))}}}return H(t),!0}return t instanceof R&&!er(t)||(o==="noscript"||o==="noembed"||o==="noframes")&&L(/<\/no(script|embed|frames)/i,t.innerHTML)?(H(t),!0):(ne&&t.nodeType===ke.text&&(a=t.textContent,Me([ae,pe,se],u=>{a=ye(a,u," ")}),t.textContent!==a&&(be(r.removed,{element:t.cloneNode()}),t.textContent=a)),Y(v.afterSanitizeElements,t,null),!1)},kt=function(t,a,o){if(ct&&(a==="id"||a==="name")&&(o in n||o in Qt))return!1;if(!(Ie&&!De[a]&&L(Gt,a))){if(!(ot&&L(Yt,a))){if(!w[a]||De[a]){if(!(Nt(t)&&(x.tagNameCheck instanceof RegExp&&L(x.tagNameCheck,t)||x.tagNameCheck instanceof Function&&x.tagNameCheck(t))&&(x.attributeNameCheck instanceof RegExp&&L(x.attributeNameCheck,a)||x.attributeNameCheck instanceof Function&&x.attributeNameCheck(a,t))||a==="is"&&x.allowCustomizedBuiltInElements&&(x.tagNameCheck instanceof RegExp&&L(x.tagNameCheck,o)||x.tagNameCheck instanceof Function&&x.tagNameCheck(o))))return!1}else if(!Fe[a]){if(!L(at,ye(o,rt,""))){if(!((a==="src"||a==="xlink:href"||a==="href")&&t!=="script"&&hr(o,"data:")===0&&ut[t])){if(!(lt&&!L(qt,ye(o,rt,"")))){if(o)return!1}}}}}}return!0},Nt=function(t){return t!=="annotation-xml"&&Ve(t,Vt)},Tt=function(t){Y(v.beforeSanitizeAttributes,t,null);const{attributes:a}=t;if(!a||Ge(t))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:w,forceKeepAttr:void 0};let u=a.length;for(;u--;){const A=a[u],{name:g,namespaceURI:D,value:q}=A,me=y(g),Ye=q;let k=g==="value"?Ye:xr(Ye);if(o.attrName=me,o.attrValue=k,o.keepAttr=!0,o.forceKeepAttr=void 0,Y(v.uponSanitizeAttribute,t,o),k=o.attrValue,dt&&(me==="id"||me==="name")&&(ee(g,t),k=Xt+k),Ne&&L(/((--!?|])>)|<\/(style|title|textarea)/i,k)){ee(g,t);continue}if(me==="attributename"&&Ve(k,"href")){ee(g,t);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){ee(g,t);continue}if(!it&&L(/\/>/i,k)){ee(g,t);continue}ne&&Me([ae,pe,se],_t=>{k=ye(k,_t," ")});const Et=y(t.nodeName);if(!kt(Et,me,k)){ee(g,t);continue}if(f&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!D)switch(T.getAttributeType(Et,me)){case"TrustedHTML":{k=f.createHTML(k);break}case"TrustedScriptURL":{k=f.createScriptURL(k);break}}if(k!==Ye)try{D?t.setAttributeNS(D,g,k):t.setAttribute(g,k),Ge(t)?H(t):St(r.removed)}catch{ee(g,t)}}Y(v.afterSanitizeAttributes,t,null)},tr=function i(t){let a=null;const o=yt(t);for(Y(v.beforeSanitizeShadowDOM,t,null);a=o.nextNode();)Y(v.uponSanitizeShadowNode,a,null),wt(a),Tt(a),a.content instanceof m&&i(a.content);Y(v.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=null,o=null,u=null,A=null;if(He=!i,He&&(i="<!-->"),typeof i!="string"&&!vt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw ve("dirty is not a string, aborting")}else throw ve("toString is not a function");if(!r.isSupported)return i;if(Pe||Be(t),r.removed=[],typeof i=="string"&&(xe=!1),xe){if(i.nodeName){const q=y(i.nodeName);if(!b[q]||he[q])throw ve("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof h)a=bt("<!---->"),o=a.ownerDocument.importNode(i,!0),o.nodeType===ke.element&&o.nodeName==="BODY"||o.nodeName==="HTML"?a=o:a.appendChild(o);else{if(!oe&&!ne&&!Q&&i.indexOf("<")===-1)return f&&Ee?f.createHTML(i):i;if(a=bt(i),!a)return oe?null:Ee?_:""}a&&ze&&H(a.firstChild);const g=yt(xe?i:a);for(;u=g.nextNode();)wt(u),Tt(u),u.content instanceof m&&tr(u.content);if(xe)return i;if(oe){if(Te)for(A=fe.call(a.ownerDocument);a.firstChild;)A.appendChild(a.firstChild);else A=a;return(w.shadowroot||w.shadowrootmode)&&(A=J.call(s,A,!0)),A}let D=Q?a.outerHTML:a.innerHTML;return Q&&b["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&L(Ht,a.ownerDocument.doctype.name)&&(D="<!DOCTYPE "+a.ownerDocument.doctype.name+`>
`+D),ne&&Me([ae,pe,se],q=>{D=ye(D,q," ")}),f&&Ee?f.createHTML(D):D},r.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Be(i),Pe=!0},r.clearConfig=function(){de=null,Pe=!1},r.isValidAttribute=function(i,t,a){de||Be({});const o=y(i),u=y(t);return kt(o,u,a)},r.addHook=function(i,t){typeof t=="function"&&be(v[i],t)},r.removeHook=function(i,t){if(t!==void 0){const a=fr(v[i],t);return a===-1?void 0:pr(v[i],a,1)[0]}return St(v[i])},r.removeHooks=function(i){v[i]=[]},r.removeAllHooks=function(){v=Dt()},r}var Je=Wt();const X={sanitizeHTML:l=>Je.sanitize(l,{ALLOWED_TAGS:["b","i","em","strong","a","p","br"],ALLOWED_ATTR:["href","target"]}),sanitizeText:l=>Je.sanitize(l,{ALLOWED_TAGS:[]}),sanitizeEmail:l=>l.toLowerCase().trim().replace(/[^\w@.-]/g,""),sanitizePhone:l=>l.replace(/[^\d+]/g,""),sanitizeURL:l=>{try{const r=new URL(l);return["https:","http:"].includes(r.protocol)?Je.sanitize(l):""}catch{return""}}},tt=class tt{static checkStrength(r){const n=[];let s=0;r.length>=12?s++:n.push("يجب أن تحتوي كلمة المرور على 12 حرف على الأقل"),/[A-Z]/.test(r)?s++:n.push("يجب أن تحتوي على حرف كبير على الأقل (A-Z)"),/[a-z]/.test(r)?s++:n.push("يجب أن تحتوي على حرف صغير على الأقل (a-z)"),/\d/.test(r)?s++:n.push("يجب أن تحتوي على رقم على الأقل (0-9)"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(r)?s++:n.push("يجب أن تحتوي على رمز خاص على الأقل (!@#$%...)");const c=r.toLowerCase();return this.commonPasswords.some(m=>c.includes(m))&&(s=Math.max(0,s-2),n.push("كلمة المرور شائعة جداً، استخدم كلمة مرور أكثر تعقيداً")),/(.)\1{2,}/.test(r)&&n.push("تجنب تكرار نفس الحرف أكثر من مرتين"),/(012|123|234|345|456|567|678|789|abc|bcd|cde|def)/i.test(r)&&n.push("تجنب استخدام أحرف أو أرقام متسلسلة"),{score:s,feedback:n,isStrong:s>=5&&n.length===0}}static isValid(r){return this.checkStrength(r).score>=4}static getStrengthLabel(r){return r<=1?"ضعيفة جداً":r<=2?"ضعيفة":r<=3?"متوسطة":r<=4?"جيدة":"قوية جداً"}static generateStrongPassword(r=16){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="abcdefghijklmnopqrstuvwxyz",c="0123456789",m="!@#$%^&*()_+-=[]{}|;:,.<>?",p=n+s+c+m;let h="";h+=n[Math.floor(Math.random()*n.length)],h+=s[Math.floor(Math.random()*s.length)],h+=c[Math.floor(Math.random()*c.length)],h+=m[Math.floor(Math.random()*m.length)];for(let R=h.length;R<r;R++)h+=p[Math.floor(Math.random()*p.length)];return h.split("").sort(()=>Math.random()-.5).join("")}};tt.commonPasswords=["password","123456","12345678","qwerty","abc123","password123","111111","123123","admin","letmein","welcome","1234567890","password1","qwerty123","مرحبا","كلمةالمرور","ادمن"];let ue=tt;const Bt=({password:l})=>{if(!l)return null;const{score:r,feedback:n,isStrong:s}=ue.checkStrength(l),c=r/5*100,m=()=>r<=1?"bg-red-500":r<=2?"bg-orange-500":r<=3?"bg-yellow-500":r<=4?"bg-blue-500":"bg-green-500",p=()=>r<=1?"text-red-600 dark:text-red-400":r<=2?"text-orange-600 dark:text-orange-400":r<=3?"text-yellow-600 dark:text-yellow-400":r<=4?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400",h=ue.getStrengthLabel(r);return e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${m()}`,style:{width:`${c}%`}})}),e.jsx("span",{className:`text-[10px] sm:text-xs font-medium ${p()} whitespace-nowrap`,children:h})]}),n.length>0&&!s&&e.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-md px-1.5 py-1 border border-orange-200 dark:border-orange-800",children:e.jsxs("ul",{className:"text-[10px] sm:text-xs text-gray-700 dark:text-gray-300 space-y-0.5",children:[n.slice(0,2).map((R,j)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-orange-500 text-[8px] mt-0.5",children:"●"}),e.jsx("span",{className:"leading-tight",children:R})]},j)),n.length>2&&e.jsxs("li",{className:"text-[9px] text-orange-600 dark:text-orange-400 mt-0.5",children:["+",n.length-2," نصيحة أخرى"]})]})}),s&&e.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 rounded-md px-1.5 py-0.5 border border-green-200 dark:border-green-800",children:[e.jsx("svg",{className:"w-3 h-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-medium",children:"كلمة مرور قوية!"})]})]})},Mr=({onBack:l})=>{const[r,n]=N.useState("email"),[s,c]=N.useState(""),[m,p]=N.useState(""),[h,R]=N.useState(""),[j,O]=N.useState(null),[$,W]=N.useState(null),[T,S]=N.useState(!1),[B,te]=N.useState(!1),re=async E=>{E.preventDefault(),O(null),W(null),S(!0);const f=X.sanitizeEmail(s);try{const _=await rr(f);W(_.message||"تم إرسال رمز إعادة التعيين إلى بريدك الإلكتروني"),c(f),setTimeout(()=>{n("reset"),W(null)},2e3)}catch(_){O(X.sanitizeText(_.message||"حدث خطأ أثناء إرسال رمز إعادة التعيين"))}finally{S(!1)}},K=async E=>{E.preventDefault(),O(null),W(null),S(!0);const f=ue.checkStrength(h);if(!f.isStrong){O(f.feedback.join(". ")),S(!1);return}try{const _=await ar(s,m,h);W(_.message||"تم إعادة تعيين كلمة المرور بنجاح!"),setTimeout(()=>{l()},2e3)}catch(_){O(X.sanitizeText(_.message||"حدث خطأ أثناء إعادة تعيين كلمة المرور"))}finally{S(!1)}};return e.jsxs("div",{className:"h-screen w-screen flex items-center justify-center bg-gradient-to-br from-teal-50 via-cyan-50 to-blue-100 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 p-4 transition-all duration-300 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-teal-200 dark:bg-teal-900 rounded-full opacity-20 blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-200 dark:bg-blue-900 rounded-full opacity-20 blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-cyan-100 dark:bg-cyan-950 rounded-full opacity-10 blur-3xl"})]}),e.jsxs(It,{className:"w-full max-w-md shadow-2xl border border-gray-200/50 dark:border-gray-700/50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-2xl overflow-hidden transform transition-all duration-300 hover:shadow-3xl relative z-10",children:[e.jsxs("div",{className:"bg-gradient-to-r from-teal-600 via-cyan-600 to-blue-600 p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/10 bg-[size:20px_20px]"}),e.jsxs(lr,{className:"text-center space-y-2 relative z-10 p-0",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-xl shadow-xl border-2 border-white/30",children:e.jsx("svg",{className:"h-10 w-10 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})})}),e.jsx(ir,{className:"text-2xl font-bold text-white drop-shadow-md",children:"إعادة تعيين كلمة المرور"}),e.jsx(cr,{className:"text-white/90 text-sm mt-1 font-medium",children:r==="email"?"أدخل بريدك الإلكتروني لإرسال رمز إعادة التعيين":"أدخل الرمز وكلمة المرور الجديدة"})]})]}),e.jsxs(Pt,{className:"p-6 space-y-4",children:[$&&e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-700 text-emerald-700 dark:text-emerald-300 px-4 py-3 rounded-lg text-center flex items-center justify-center gap-2 animate-in fade-in slide-in-from-top-2 duration-300",role:"alert",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-semibold",children:$})]}),j&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg text-center flex items-center justify-center gap-2 animate-in fade-in slide-in-from-top-2 duration-300",role:"alert",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-semibold",children:j})]}),r==="email"&&e.jsxs("form",{onSubmit:re,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-[34px] text-teal-600 dark:text-teal-400 pointer-events-none z-10",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx(z,{label:"البريد الإلكتروني",type:"email",value:s,onChange:E=>c(E.target.value),required:!0,className:"pr-10 focus:border-teal-500 focus:ring-teal-500",placeholder:"info@hospital.com"})]}),e.jsx(Oe,{type:"submit",disabled:T,section:"hospital",className:"w-full font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:T?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري الإرسال..."]}):"إرسال رمز التحقق"})]}),r==="reset"&&e.jsxs("form",{onSubmit:K,className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-[34px] text-teal-600 dark:text-teal-400 pointer-events-none z-10",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})})}),e.jsx(z,{label:"رمز التحقق",type:"text",value:m,onChange:E=>p(E.target.value),required:!0,className:"pr-10 focus:border-teal-500 focus:ring-teal-500",placeholder:"123456"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-[34px] text-teal-600 dark:text-teal-400 pointer-events-none z-10",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx(z,{label:"كلمة المرور الجديدة",type:B?"text":"password",value:h,onChange:E=>R(E.target.value),required:!0,className:"pr-10 focus:border-teal-500 focus:ring-teal-500",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>te(!B),className:"absolute left-10 top-[34px] text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors z-10",children:B?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx(Bt,{password:h})]}),e.jsx(Oe,{type:"submit",disabled:T,section:"hospital",className:"w-full font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:T?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري الحفظ..."]}):"إعادة تعيين كلمة المرور"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-3 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"أو"})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:l,type:"button",className:"group inline-flex items-center gap-2 text-sm font-semibold text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 transition-all duration-200",children:[e.jsx("svg",{className:"w-4 h-4 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19l-7-7 7-7"})}),e.jsx("span",{className:"underline decoration-2 underline-offset-4 group-hover:decoration-teal-700 dark:group-hover:decoration-teal-300",children:"العودة لتسجيل الدخول"})]})})]})]})]})},Or=({onAuthSuccess:l})=>{const[r,n]=N.useState(!1),[s,c]=N.useState(!1),[m,p]=N.useState(null),[h,R]=N.useState(null),[j,O]=N.useState(!1),[$,W]=N.useState(!1),[T,S]=N.useState(!1),[B,te]=N.useState(!1),[re,K]=N.useState(""),E=async I=>{I.preventDefault(),p(null),R(null),O(!0);const P=new FormData(I.currentTarget),fe=X.sanitizeEmail(P.get("email")),Z=X.sanitizePhone(P.get("phone_number"));P.set("email",fe),P.set("phone_number",Z);const J=P.get("password"),v=P.get("password_confirmation"),ae=ue.checkStrength(J);if(!ae.isStrong){p(ae.feedback.join(". ")),O(!1);return}if(J!==v){p("كلمة المرور وتأكيد كلمة المرور غير متطابقتين"),O(!1);return}try{await or(P),Le.success("تم التسجيل بنجاح! يمكنك الآن تسجيل الدخول.",3e3),setTimeout(()=>{n(!1),R(null),K("")},3e3)}catch(pe){const se=X.sanitizeText(pe.message||"حدث خطأ أثناء التسجيل");Le.error(se),p(se)}finally{O(!1)}},f=async I=>{I.preventDefault(),p(null),R(null),O(!0);const P=new FormData(I.currentTarget),fe=X.sanitizeEmail(P.get("email"));P.set("email",fe);try{const Z=await sr(P);Le.success("تم تسجيل الدخول بنجاح!",2e3),nr.generateToken(),setTimeout(()=>{l(Z.token,$)},1e3)}catch(Z){const J=X.sanitizeText(Z.message||"حدث خطأ أثناء تسجيل الدخول");Le.error(J),p(J)}finally{O(!1)}},_=()=>{n(!r),p(null),R(null),S(!1),te(!1),K("")};return s?e.jsx(Mr,{onBack:()=>c(!1)}):e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-gray-950 overflow-x-hidden py-4 sm:py-6 lg:py-8",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-1/2 -right-1/2 w-full h-full bg-gradient-to-br from-teal-100/50 to-transparent dark:from-teal-900/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-1/2 -left-1/2 w-full h-full bg-gradient-to-tr from-cyan-100/50 to-transparent dark:from-cyan-900/20 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md lg:max-w-5xl xl:max-w-6xl px-4 sm:px-6 lg:px-8 mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8 xl:gap-10 items-center w-full",children:[e.jsxs("div",{className:"hidden lg:flex flex-col justify-center space-y-6 xl:space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 xl:w-20 xl:h-20 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-2xl shadow-2xl flex items-center justify-center transform hover:rotate-12 transition-transform duration-300",children:e.jsx(At,{className:"w-9 h-9 xl:w-12 xl:h-12 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl xl:text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:"صحتي"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-base xl:text-lg font-medium",children:"منصة طبية متكاملة"})]})]}),e.jsx("p",{className:"text-lg xl:text-xl text-gray-700 dark:text-gray-300 font-semibold leading-relaxed",children:r?"انضم إلى مئات المستشفيات التي تثق بنا":"مرحباً بعودتك إلى منصتك الطبية"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 xl:gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 xl:p-5 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-100 dark:bg-teal-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-teal-600 dark:text-teal-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm mb-0.5",children:"أمان متقدم"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"تشفير متقدم"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 xl:p-5 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-100 dark:bg-cyan-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-cyan-600 dark:text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm mb-0.5",children:"أداء فائق"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"سرعة عالية"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 xl:p-5 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm mb-0.5",children:"سهل الاستخدام"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"واجهة بديهية"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 xl:p-5 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/50 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-sm mb-0.5",children:"موثوق به"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"معتمد رسمياً"})]})]})]}),e.jsx("div",{className:"p-5 xl:p-6 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-6 h-6 text-teal-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm xl:text-base mb-2 leading-relaxed",children:"منصة رائعة ساعدتنا في تحسين إدارة الحجوزات"}),e.jsx("p",{className:"text-xs xl:text-sm font-semibold text-gray-900 dark:text-white",children:"د. أحمد محمد"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"مستشفى النور"})]})]})})]}),e.jsxs("div",{className:"w-full lg:max-w-md mx-auto",children:[e.jsx("div",{className:"lg:hidden flex justify-center mb-3 sm:mb-4",children:e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-teal-500 via-cyan-500 to-blue-500 rounded-2xl shadow-xl flex items-center justify-center",children:e.jsx(At,{className:"w-8 h-8 sm:w-9 sm:h-9 text-white"})})}),e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>r&&_(),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-all duration-300 ${r?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200":"bg-white dark:bg-gray-700 text-teal-600 dark:text-teal-400 shadow-md"}`,children:"تسجيل الدخول"}),e.jsx("button",{type:"button",onClick:()=>!r&&_(),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-all duration-300 ${r?"bg-white dark:bg-gray-700 text-teal-600 dark:text-teal-400 shadow-md":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"إنشاء حساب"})]})}),e.jsxs("div",{className:"text-center mb-3 sm:mb-4",children:[e.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-white mb-1",children:r?"سجّل مستشفاك الآن":"أهلاً بعودتك"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:r?"املأ البيانات للانضمام إلى المنصة":"أدخل بياناتك للمتابعة"})]}),h&&e.jsx("div",{className:"mb-3 p-2.5 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg border border-emerald-200 dark:border-emerald-700 animate-in slide-in-from-top fade-in",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-emerald-100 dark:bg-emerald-800 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-emerald-600 dark:text-emerald-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx("p",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:h})]})}),m&&e.jsx("div",{className:"mb-3 p-2.5 bg-red-50 dark:bg-red-900/30 rounded-lg border border-red-200 dark:border-red-700 animate-in slide-in-from-top fade-in",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-3 h-3 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),e.jsx("p",{className:"text-xs font-medium text-red-700 dark:text-red-300",children:m})]})}),e.jsx(It,{className:"border border-gray-200 dark:border-gray-700 shadow-xl bg-white dark:bg-gray-800",children:e.jsx(Pt,{className:"p-4 sm:p-5 lg:p-6",children:r?e.jsxs("form",{onSubmit:E,className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(z,{label:"اسم المستشفى",name:"hospital_name",type:"text",required:!0,placeholder:"مستشفى الأمل"}),e.jsx(z,{label:"الرمز الفريد",name:"unique_code",type:"text",required:!0,placeholder:"HOSP-001"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx(z,{label:"البريد الإلكتروني",name:"email",type:"email",required:!0,placeholder:"info@hospital.com"}),e.jsx(z,{label:"رقم الهاتف",name:"phone_number",type:"text",required:!0,placeholder:"+966 50 123 4567"})]}),e.jsx(z,{label:"العنوان",name:"address",type:"text",required:!0,placeholder:"شارع الملك فهد، الرياض"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:"كلمة المرور",name:"password",type:T?"text":"password",required:!0,value:re,onChange:I=>K(I.target.value),placeholder:"••••••••",className:"pr-12"}),e.jsx("button",{type:"button",onClick:()=>S(!T),className:"absolute left-3 top-[38px] text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:T?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx(Bt,{password:re})]}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:"تأكيد كلمة المرور",name:"password_confirmation",type:B?"text":"password",required:!0,placeholder:"••••••••",className:"pr-12"}),e.jsx("button",{type:"button",onClick:()=>te(!B),className:"absolute left-3 top-[38px] text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:B?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx(Oe,{type:"submit",disabled:j,section:"hospital",className:"w-full h-10 text-sm font-bold shadow-lg hover:shadow-xl transition-all duration-200 mt-2",children:j?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري الإنشاء..."]}):"إنشاء الحساب"})]}):e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsx(z,{label:"البريد الإلكتروني",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"info@hospital.com"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{label:"كلمة المرور",name:"password",type:T?"text":"password",required:!0,placeholder:"••••••••",className:"pr-12"}),e.jsx("button",{type:"button",onClick:()=>S(!T),className:"absolute left-3 top-[38px] text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",children:T?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:I=>W(I.target.checked),className:"w-4 h-4 text-teal-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-teal-500 focus:ring-2 cursor-pointer"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors select-none",children:"تذكرني"})]}),e.jsx("button",{type:"button",onClick:()=>c(!0),className:"text-xs sm:text-sm font-semibold text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 transition-colors hover:underline",children:"نسيت كلمة المرور؟"})]}),e.jsx(Oe,{type:"submit",disabled:j,section:"hospital",className:"w-full h-10 text-sm font-bold shadow-lg hover:shadow-xl transition-all duration-200 mt-2",children:j?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري التحقق..."]}):"تسجيل الدخول"})]})})}),e.jsx("p",{className:"mt-3 sm:mt-4 text-center text-xs text-gray-500 dark:text-gray-400",children:"محمي بتشفير SSL 🔒"})]})]})})]})};export{Or as default};
