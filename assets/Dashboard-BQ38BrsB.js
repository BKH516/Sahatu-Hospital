import{u as H,j as e,T as le,i as de,A as X,c as U,r as g,s as j,g as ne,d as ie,e as oe,h as ce,k as xe,m as me,n as he,o as ge,p as ue,q as pe}from"./index-DcarrlVl.js";import{c as be,L as fe,T as ve,a as je,S as z,C as R,b as D,D as ye,U as V,d as we,B as A,H as ke,e as P,X as B,A as W,P as Z,E as Ne}from"./LanguageToggle-CDJNXXb_.js";import{C as k,b as T,c as I,d as _,a as N,B as w}from"./card-mo0f1eSC.js";import{I as O}from"./Input-dnzEDK4M.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Se=be("menu",Ce),De=({onLogout:s,onMenuClick:t,userFullName:r,activeTab:a,onTabChange:l})=>{const{t:x}=H(),n=[{key:"overview",label:x("dashboard.navigation.overview"),icon:"ðŸ "},{key:"services",label:x("dashboard.navigation.services"),icon:"ðŸ¥"},{key:"schedule",label:x("dashboard.navigation.schedule"),icon:"ðŸ“…"},{key:"reservations",label:x("dashboard.navigation.reservations"),icon:"â³"},{key:"history",label:x("dashboard.navigation.history"),icon:"ðŸ“œ"},{key:"profile",label:x("dashboard.navigation.profile"),icon:"ðŸ‘¤"}],b=c=>{l&&l(c)};return e.jsx("header",{className:"w-full h-14 sm:h-16 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm z-30 fixed top-0 right-0 left-0 transition-colors duration-200 overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 h-full w-full",children:e.jsxs("div",{className:"relative flex items-center justify-between h-full w-full min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 relative z-10 flex-shrink-0 min-w-0",children:[e.jsx("button",{className:"lg:hidden flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg p-1.5 sm:p-2 transition-all duration-200 flex-shrink-0",onClick:t,"aria-label":x("dashboard.navigation.openMenu"),children:e.jsx(Se,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),r&&e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.75 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),e.jsx("span",{className:"text-sm font-medium",children:r})]})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-1",children:n.map(c=>e.jsxs("button",{onClick:()=>b(c.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap min-w-fit ${a===c.key?"bg-teal-600 dark:bg-teal-500 text-white shadow-lg shadow-teal-500/25":"text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 hover:bg-teal-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"text-base",children:c.icon}),e.jsx("span",{children:c.label})]},c.key))}),e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 relative z-10 flex-shrink-0 min-w-0",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{}),e.jsx(ve,{}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-2 sm:px-3 py-2 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 font-medium flex-shrink-0","aria-label":x("dashboard.navigation.logout"),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 flex-shrink-0",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 15l3-3m0 0l-3-3m3 3H9"})]}),e.jsx("span",{className:"hidden sm:inline text-sm",children:x("dashboard.navigation.logoutButton")})]})]})})]})})})},$e=({isOpen:s,onClose:t,activeTab:r,onTabChange:a})=>{const{t:l,i18n:x}=H(),n=x.dir()==="rtl",b=[{id:"overview",label:l("dashboard.navigation.overview"),icon:je,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"services",label:l("dashboard.navigation.services"),icon:z,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"schedule",label:l("dashboard.navigation.workSchedule"),icon:R,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"reservations",label:l("dashboard.navigation.reservations"),icon:D,activeColor:"from-purple-600 to-indigo-600",hoverColor:"hover:bg-purple-50"},{id:"history",label:l("dashboard.navigation.reservationHistory"),icon:ye,activeColor:"from-indigo-600 to-purple-600",hoverColor:"hover:bg-indigo-50"},{id:"profile",label:l("dashboard.navigation.profile"),icon:V,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"}];return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 bg-black/55 dark:bg-black/75 backdrop-blur-sm z-40 lg:hidden",onClick:t}),e.jsx("div",{className:`fixed top-0 h-full w-[17rem] sm:w-72 max-w-full z-50 transform transition-transform duration-300 ease-in-out lg:hidden ${n?"right-0":"left-0"} ${s?"translate-x-0":n?"translate-x-full":"-translate-x-full"}`,children:e.jsx("div",{className:`h-full w-full bg-white/95 dark:bg-gray-900/95 backdrop-blur-md text-gray-800 dark:text-gray-100 shadow-2xl border border-gray-200/70 dark:border-gray-800/70 transition-colors duration-200 ${n?"border-l":"border-r"}`,children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-500 via-cyan-600 to-blue-700 opacity-95"}),e.jsxs("div",{className:"relative px-6 pt-6 pb-5 flex flex-col gap-4 text-white",children:[e.jsx("button",{onClick:t,className:`absolute top-5 p-2 rounded-xl bg-white/15 backdrop-blur hover:bg-white/25 transition-all duration-200 ${n?"left-5":"right-5"}`,"aria-label":l("common.close")||"Close",children:e.jsx(we,{className:"w-5 h-5"})}),e.jsxs("div",{className:`flex items-center gap-3 ${n?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center shadow-inner",children:e.jsx("span",{className:"text-white text-lg font-semibold",children:"S"})}),e.jsxs("div",{className:n?"text-right":"text-left",children:[e.jsx("h1",{className:"text-lg font-semibold leading-tight",children:l("mobileSidebar.platformName")}),e.jsx("p",{className:"text-xs text-white/80",children:l("mobileSidebar.dashboard")})]})]}),e.jsx("div",{className:`text-xs text-white/80 ${n?"text-right":"text-left"}`,children:l("mobileSidebar.manageHospital")})]})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto px-4 py-5",children:[e.jsx("p",{className:`text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500 mb-3 ${n?"text-right":"text-left"}`,children:l("mobileSidebar.quickAccess")}),e.jsx("ul",{className:"space-y-2.5",children:b.map(c=>{const i=c.icon,p=r===c.id;return e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a(c.id),t()},className:`w-full flex items-center justify-between rounded-xl px-4 py-3 transition-all duration-200 shadow-sm ${p?`bg-gradient-to-${n?"l":"r"} ${c.activeColor} text-white shadow-lg shadow-${n?"teal":"blue"}-500/30`:"bg-white/60 dark:bg-gray-800/70 border border-gray-200/60 dark:border-gray-700/60 hover:border-teal-400/60 hover:bg-white dark:hover:bg-gray-800"} ${n?"flex-row-reverse text-right gap-3":"flex-row text-left gap-3"}`,children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`p-2 rounded-lg ${p?"bg-white/20":"bg-teal-100/70 dark:bg-teal-900/30 text-teal-600 dark:text-teal-300"}`,children:e.jsx(i,{className:`w-5 h-5 ${p?"text-white":""}`})}),e.jsx("span",{className:"font-medium text-sm",children:c.label})]}),!p&&e.jsx(A,{className:`w-4 h-4 text-gray-300 dark:text-gray-600 ${n?"rotate-180":""}`})]})},c.id)})})]}),e.jsx("div",{className:"px-4 pb-6",children:e.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-gray-100 via-white to-gray-100 dark:from-gray-800/70 dark:via-gray-800/40 dark:to-gray-800/20 border border-gray-200/70 dark:border-gray-700/60 p-4",children:[e.jsx("h2",{className:`text-sm font-semibold text-gray-800 dark:text-gray-100 mb-1 ${n?"text-right":"text-left"}`,children:l("mobileSidebar.supportTitle")}),e.jsx("p",{className:`text-xs text-gray-500 dark:text-gray-400 leading-relaxed ${n?"text-right":"text-left"}`,children:l("mobileSidebar.supportDescription")})]})})]})})})]})};async function G(s,t={},r){var b;const a=le.getToken(),l=new Headers(t.headers||{});l.set("Accept","application/json");const x=(t.method||"GET").toUpperCase(),n=((b=de)==null?void 0:b.language)||localStorage.getItem("i18nextLng")||sessionStorage.getItem("i18nextLng")||"ar";l.set("Accept-Language",n),t.body instanceof FormData?l.delete("Content-Type"):t.body&&!l.has("Content-Type")&&l.set("Content-Type","application/json"),a&&l.set("Authorization",`Bearer ${a}`);try{const c=new AbortController,i=setTimeout(()=>c.abort(),X.REQUEST_TIMEOUT),p=new URL(`${X.BASE_URL}${s}`,X.BASE_URL);x==="GET"&&p.searchParams.set("lang",n);const m=await fetch(p.toString(),{...t,headers:l,signal:c.signal});if(clearTimeout(i),!m.ok){const v=await m.json().catch(()=>({message:`HTTP ${m.status}`}));throw new Error(v.message||"API error")}const f=m.headers.get("content-type");return m.status===204||!f||!f.includes("application/json")?null:await m.json()}catch(c){if(r!==void 0)return r;throw c}}const Le={workDays:{total:0,days:[]},services:{total:0,averagePrice:0,totalCapacity:0},reservations:{total:0,pending:0,confirmed:0,cancelled:0,completed:0,today:0,thisWeek:0,thisMonth:0,revenue:0}},Y=async()=>await G(U.HOSPITAL_RESERVATIONS,{},[])||[],Te=async s=>(await Y()).filter(r=>r.status===s),Ie=async()=>Te("pending"),_e=async s=>{await ee(s,"confirmed")},He=async s=>{await ee(s,"cancelled")},Ee=async()=>await G(U.HOSPITAL_SERVICES,{},[])||[],Re=async()=>await G(U.HOSPITAL_WORK_SCHEDULES,{},[])||[],ee=async(s,t)=>{try{return await G(`${U.HOSPITAL_RESERVATIONS_UPDATE_STATUS(s)}?status=${encodeURIComponent(t)}`,{method:"PATCH"}),!0}catch(r){throw r}},Me=async()=>{try{const[s,t,r]=await Promise.all([Y(),Ee(),Re()]),a=new Date().toISOString().split("T")[0],l=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],x=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0],n=new Date;n.setDate(n.getDate()-n.getDay());const b=n.toISOString().split("T")[0],c=s.filter(u=>u.start_date===a),i=s.filter(u=>u.start_date>=b),p=s.filter(u=>u.start_date>=l&&u.start_date<=x),m=s.filter(u=>u.status==="pending"),f=s.filter(u=>u.status==="confirmed"),v=s.filter(u=>u.status==="completed"),S=s.filter(u=>u.status==="cancelled"),h=s.reduce((u,$)=>u+($.price||0),0),C=t.length>0?t.reduce((u,$)=>u+(parseFloat($.price)||0),0)/t.length:0,d=t.reduce((u,$)=>u+($.capacity||0),0),y=r.map(u=>u.day_of_week);return{workDays:{total:r.length,days:y},services:{total:t.length,averagePrice:Math.round(C*100)/100,totalCapacity:d},reservations:{total:s.length,pending:m.length,confirmed:f.length,cancelled:S.length,completed:v.length,today:c.length,thisWeek:i.length,thisMonth:p.length,revenue:h}}}catch{return Le}},J=({onNavigate:s,userFullName:t})=>{const{t:r,i18n:a}=H(),[l,x]=g.useState(null),[n,b]=g.useState(!0);g.useEffect(()=>{(async()=>{try{b(!0);const f=await Me();x(f)}catch{}finally{b(!1)}})()},[a.language]);const c=()=>{const m=new Date().getHours();return m<12?r("dashboard.greeting.morning"):m<17?r("dashboard.greeting.afternoon"):r("dashboard.greeting.evening")},i=()=>{const m=new Date,f=a.language==="ar"?"ar-EG":"en-US",v={weekday:"long",year:"numeric",month:"long",day:"numeric"};return m.toLocaleDateString(f,v)},p=()=>t&&t!==""?t:r("dashboard.overview.hospitalName");return e.jsxs("div",{className:"space-y-4 md:space-y-8 w-full max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gradient-to-br from-teal-500 via-blue-600 to-indigo-700 rounded-xl sm:rounded-2xl shadow-xl relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-white rounded-full blur-3xl transform translate-x-1/3 -translate-y-1/3"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-white rounded-full blur-3xl transform -translate-x-1/3 translate-y-1/3"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-white rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2 opacity-50"})]}),e.jsxs("div",{className:"relative z-10 p-4 sm:p-5 md:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-5 mb-4 sm:mb-5",children:[e.jsx("div",{className:"flex-1 w-full min-w-0",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs sm:text-sm text-teal-100/90 font-medium mb-1",children:r("dashboard.welcome")}),e.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white mb-1.5 leading-tight",children:[c(),", ",p()]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-teal-100/90",children:[e.jsx(D,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("p",{className:"text-xs sm:text-sm",children:i()})]})]})}),e.jsx("div",{className:`flex-shrink-0 ${a.language==="ar"?"sm:order-first":""}`,children:e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-white/25 backdrop-blur-md rounded-xl flex items-center justify-center border-2 border-white/40 shadow-lg transform hover:scale-105 transition-transform duration-300",children:e.jsx(ke,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-white"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2.5 sm:gap-3",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-lg px-3 py-2.5 border border-white/30 hover:bg-white/30 transition-all duration-200 shadow-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl flex-shrink-0",role:"img","aria-label":"hospital",children:"ðŸ¥"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm text-white",children:r("dashboard.overview.hospitalName")})]})}),e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-lg px-3 py-2.5 border border-white/30 hover:bg-white/30 transition-all duration-200 cursor-pointer shadow-md active:scale-95",onClick:()=>s("services"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl flex-shrink-0",role:"img","aria-label":"smart",children:"ðŸ“±"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm text-white",children:r("dashboard.overview.smartManagement")})]})}),e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-lg px-3 py-2.5 border border-white/30 hover:bg-white/30 transition-all duration-200 shadow-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl flex-shrink-0",role:"img","aria-label":"fast",children:"âš¡"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm text-white",children:r("dashboard.overview.fastPerformance")})]})})]})]})]}),n&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"}),e.jsx("p",{className:`${a.language==="ar"?"ml-4":"mr-4"} text-gray-600 dark:text-gray-300`,children:r("dashboard.overview.loading")})]}),!n&&l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-8",children:e.jsxs(k,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-green-500",children:[e.jsxs(T,{className:"pb-3 md:pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(R,{className:"w-5 h-5 md:w-6 md:h-6 text-green-600"}),r("dashboard.overview.workDays.title")]}),e.jsx(_,{className:"text-xs md:text-sm",children:r("dashboard.overview.workDays.description")})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 rounded-lg md:rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-green-700 dark:text-green-400 font-medium mb-0.5 sm:mb-1",children:r("dashboard.overview.workDays.total")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-900 dark:text-green-100",children:l.workDays.total})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-green-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(R,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-green-600"})})]})}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-800/20 rounded-lg md:rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-green-700 dark:text-green-400 font-medium mb-1 sm:mb-2",children:r("dashboard.overview.workDays.available")}),e.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-1.5 md:gap-2",children:l.workDays.days.length>0?l.workDays.days.map((m,f)=>e.jsx("span",{className:"px-2 py-0.5 md:px-3 md:py-1 bg-green-500 text-white text-[10px] md:text-xs font-medium rounded-full shadow-sm",children:m},f)):e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs md:text-sm",children:r("dashboard.overview.workDays.noDays")})})]})})]}),e.jsxs(w,{onClick:()=>s("schedule"),className:"w-full md:w-auto text-sm",section:"hospital",children:[e.jsx(R,{className:`w-4 h-4 ${a.language==="ar"?"ml-2":"mr-2"}`}),r("dashboard.overview.workDays.manage")]})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-8",children:e.jsxs(k,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-blue-500",children:[e.jsxs(T,{className:"pb-3 md:pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(z,{className:"w-5 h-5 md:w-6 md:h-6 text-blue-600"}),r("dashboard.overview.services.title")]}),e.jsx(_,{className:"text-xs md:text-sm",children:r("dashboard.overview.services.description")})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 md:gap-4",children:[e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 rounded-lg md:rounded-xl border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-blue-700 dark:text-blue-400 font-medium mb-0.5 sm:mb-1",children:r("dashboard.overview.services.total")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-blue-900 dark:text-blue-100",children:l.services.total})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(z,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-7 md:h-7 text-blue-600"})})]})}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/30 dark:to-cyan-800/20 rounded-lg md:rounded-xl border border-cyan-200 dark:border-cyan-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-cyan-700 dark:text-cyan-400 font-medium mb-0.5 sm:mb-1",children:r("dashboard.overview.services.averagePrice")}),e.jsxs("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-cyan-900 dark:text-cyan-100 truncate",children:[l.services.averagePrice.toFixed(2)," ",r("dashboard.services.currency")]})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-cyan-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-base sm:text-lg md:text-xl lg:text-2xl",children:"ðŸ’°"})})]})}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/20 rounded-lg md:rounded-xl border border-indigo-200 dark:border-indigo-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-indigo-700 dark:text-indigo-400 font-medium mb-0.5 sm:mb-1",children:r("dashboard.overview.services.totalCapacity")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-indigo-900 dark:text-indigo-100",children:l.services.totalCapacity})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 bg-indigo-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-base sm:text-lg md:text-xl lg:text-2xl",children:"ðŸ“Š"})})]})})]}),e.jsxs(w,{onClick:()=>s("services"),className:"w-full md:w-auto text-sm",section:"services",children:[e.jsx(z,{className:`w-4 h-4 ${a.language==="ar"?"ml-2":"mr-2"}`}),r("dashboard.overview.services.manage")]})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:gap-8",children:e.jsxs(k,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-purple-500",children:[e.jsxs(T,{className:"pb-3 md:pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2 text-base md:text-lg",children:[e.jsx(D,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-600"}),r("dashboard.overview.reservations.title")]}),e.jsx(_,{className:"text-xs md:text-sm",children:r("dashboard.overview.reservations.description")})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1.5 sm:gap-2 md:gap-4",children:[e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-purple-200 dark:border-purple-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-purple-700 dark:text-purple-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.total")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-purple-900 dark:text-purple-100",children:l.reservations.total})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/30 dark:to-yellow-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-yellow-200 dark:border-yellow-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-yellow-700 dark:text-yellow-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.pending")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-yellow-900 dark:text-yellow-100",children:l.reservations.pending})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-green-700 dark:text-green-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.confirmed")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-green-900 dark:text-green-100",children:l.reservations.confirmed})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-red-200 dark:border-red-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-red-700 dark:text-red-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.cancelled")}),e.jsx("p",{className:"text-base xs:text-lg sm:text-xl md:text-3xl font-bold text-red-900 dark:text-red-100",children:l.reservations.cancelled})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1.5 sm:gap-2 md:gap-4",children:[e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-900/30 dark:to-teal-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-teal-200 dark:border-teal-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-teal-700 dark:text-teal-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.completed")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-teal-900 dark:text-teal-100",children:l.reservations.completed})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-blue-700 dark:text-blue-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.today")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-blue-900 dark:text-blue-100",children:l.reservations.today})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-indigo-200 dark:border-indigo-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-indigo-700 dark:text-indigo-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.thisWeek")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:l.reservations.thisWeek})]})}),e.jsx("div",{className:"p-2 sm:p-3 md:p-4 bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/30 dark:to-pink-800/20 rounded-md sm:rounded-lg md:rounded-xl border border-pink-200 dark:border-pink-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] xs:text-[10px] sm:text-xs md:text-sm text-pink-700 dark:text-pink-400 font-medium mb-0.5 md:mb-1 leading-tight",children:r("dashboard.overview.reservations.thisMonth")}),e.jsx("p",{className:"text-sm xs:text-base sm:text-lg md:text-2xl font-bold text-pink-900 dark:text-pink-100",children:l.reservations.thisMonth})]})})]}),e.jsx("div",{className:"p-3 sm:p-4 md:p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-800/20 rounded-lg md:rounded-xl border-2 border-emerald-300 dark:border-emerald-700",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs md:text-sm text-emerald-700 dark:text-emerald-400 font-medium mb-0.5 sm:mb-1",children:r("dashboard.overview.reservations.revenue")}),e.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold text-emerald-900 dark:text-emerald-100 truncate",children:[l.reservations.revenue.toFixed(2)," ",r("dashboard.services.currency")]})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 bg-emerald-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl",children:"ðŸ’µ"})})]})}),e.jsxs(w,{onClick:()=>s("reservations"),className:"w-full md:w-auto text-sm",section:"services",children:[e.jsx(D,{className:`w-4 h-4 ${a.language==="ar"?"ml-2":"mr-2"}`}),r("dashboard.overview.reservations.viewAll")]})]})})]})})]})]})},K=({isOpen:s,onClose:t,onConfirm:r,title:a,description:l,confirmText:x,cancelText:n,type:b="warning",loading:c=!1})=>{const{t:i}=H(),p=x||i("common.confirm"),m=n||i("common.cancel");if(!s)return null;const f=()=>{switch(b){case"danger":return e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"warning":return e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})});case"info":return e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},v=()=>b==="danger"?"destructive":"default";return e.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",onClick:t,children:e.jsxs(k,{className:"w-full max-w-md dark:bg-gray-800 shadow-2xl animate-in zoom-in-95 duration-200",onClick:S=>S.stopPropagation(),children:[e.jsxs(T,{className:"text-center pb-3",children:[f(),e.jsx(I,{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:a}),e.jsx(_,{className:"text-base mt-2 text-gray-600 dark:text-gray-400",children:l})]}),e.jsx(N,{children:e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(w,{onClick:t,variant:"outline",className:"flex-1",disabled:c,children:m}),e.jsx(w,{onClick:r,variant:v(),className:"flex-1",disabled:c,children:c?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i("common.loading")]}):p})]})})]})})},Oe=()=>{const{t:s,i18n:t}=H(),r=t.dir()==="rtl",[a,l]=g.useState([]),[x,n]=g.useState(!0),[b,c]=g.useState(null),[i,p]=g.useState({isOpen:!1,type:"confirm",reservationId:null}),m=g.useCallback(async()=>{n(!0),c(null);try{const h=await Ie();l(h)}catch{c(s("reservations.fetchError"))}finally{n(!1)}},[t.language,s]);g.useEffect(()=>{m()},[m]);const f=h=>{p({isOpen:!0,type:"confirm",reservationId:h})},v=h=>{p({isOpen:!0,type:"cancel",reservationId:h})},S=async()=>{if(!i.reservationId)return;const h=j.loading(i.type==="confirm"?s("reservations.confirming"):s("reservations.cancelling"));try{i.type==="confirm"?(await _e(i.reservationId),j.dismiss(h),j.success(s("reservations.confirmSuccess"))):(await He(i.reservationId),j.dismiss(h),j.success(s("reservations.cancelSuccess"))),m()}catch(C){j.dismiss(h),j.error(`${i.type==="confirm"?s("reservations.confirmError"):s("reservations.cancelError")}: ${C.message}`)}finally{p({isOpen:!1,type:"confirm",reservationId:null})}};return e.jsxs("div",{className:"space-y-6 w-full max-w-6xl mx-auto px-2 sm:px-0",children:[b&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:r?"mr-3":"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:b}),e.jsx("button",{onClick:m,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:s("reservations.retry")})]})]})}),e.jsxs(k,{className:"w-full",children:[e.jsx(T,{children:e.jsxs("div",{className:`flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between ${r?"sm:flex-row-reverse text-right":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(I,{className:`flex items-center gap-2 ${r?"flex-row-reverse justify-end":""}`,children:[e.jsx(D,{className:"w-5 h-5 text-purple-600"}),s("reservations.pendingTitle")]}),e.jsx(_,{className:r?"text-right":"",children:s("reservations.pendingDescription")})]}),e.jsxs(w,{onClick:m,disabled:x,variant:"outline",size:"sm",className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[x?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s("reservations.refresh")]})]})}),e.jsx(N,{children:x?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("reservations.loading")})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block md:hidden space-y-4 w-full",children:a.map(h=>e.jsx(k,{className:"w-full border border-purple-200 dark:border-purple-500/40 rounded-xl shadow-sm bg-white/85 dark:bg-gray-800/70 backdrop-blur",children:e.jsxs(N,{className:"p-5 space-y-5 text-center",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center shadow-inner",children:e.jsx(V,{className:"w-6 h-6 text-purple-600 dark:text-purple-300"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-purple-500 dark:text-purple-300",children:s("reservations.patient")}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:h.user_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[e.jsxs("div",{className:"rounded-xl border border-purple-100 dark:border-purple-500/30 bg-purple-50/40 dark:bg-purple-900/20 p-3 space-y-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-200/70 dark:bg-purple-800/40 flex items-center justify-center",children:e.jsx(D,{className:"w-5 h-5 text-purple-600 dark:text-purple-300"})})}),e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-purple-500 dark:text-purple-300",children:s("reservations.service")}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h.service_name}),e.jsxs("p",{className:"text-sm font-bold text-purple-600 dark:text-purple-300",children:[h.price," ",s("dashboard.services.currency")]})]}),e.jsxs("div",{className:"rounded-xl border border-indigo-100 dark:border-indigo-500/30 bg-indigo-50/40 dark:bg-indigo-900/20 p-3 space-y-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-200/70 dark:bg-indigo-800/40 flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300"})})}),e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-indigo-500 dark:text-indigo-300",children:`${s("reservations.startDate")} / ${s("reservations.endDate")}`}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[s("reservations.from"),": ",new Date(h.start_date).toLocaleDateString(t.language==="ar"?"ar-EG":"en-US",{month:"short",day:"numeric"})]}),e.jsxs("p",{children:[s("reservations.to"),": ",new Date(h.end_date).toLocaleDateString(t.language==="ar"?"ar-EG":"en-US",{month:"short",day:"numeric"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[e.jsxs(w,{onClick:()=>f(h.id),section:"services",size:"sm",className:`w-full justify-center text-sm gap-2 ${r?"flex-row-reverse":""}`,children:[e.jsx(P,{className:"w-4 h-4"}),s("reservations.confirm")]}),e.jsxs(w,{onClick:()=>v(h.id),variant:"outline",size:"sm",className:`w-full justify-center text-sm gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 ${r?"flex-row-reverse":""}`,children:[e.jsx(B,{className:"w-4 h-4"}),s("reservations.cancel")]})]})]})},h.id))}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"w-full max-w-6xl mx-auto overflow-x-auto rounded-2xl border border-purple-100 dark:border-purple-900/40 bg-white/90 dark:bg-gray-900/60 shadow-sm shadow-purple-100/50",children:e.jsxs("table",{className:"min-w-[60rem] w-full text-sm text-gray-700 dark:text-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-purple-50 via-violet-50 to-indigo-50 dark:from-purple-900/20 dark:via-violet-900/20 dark:to-indigo-900/20 text-purple-900 dark:text-purple-100 uppercase tracking-wide text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-purple-100/70 dark:border-purple-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("reservations.patient")}),e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-purple-100/70 dark:border-purple-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("reservations.service")}),e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-purple-100/70 dark:border-purple-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("reservations.price")}),e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-purple-100/70 dark:border-purple-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("reservations.startDate")}),e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-purple-100/70 dark:border-purple-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("reservations.endDate")}),e.jsx("th",{className:"px-4 py-3 font-semibold border-b border-purple-100/70 dark:border-purple-900/40 text-center",children:s("common.actions")})]})}),e.jsxs("tbody",{children:[a.map(h=>e.jsxs("tr",{className:"odd:bg-white even:bg-purple-50/40 dark:odd:bg-gray-900/60 dark:even:bg-gray-900/40 hover:bg-purple-100/40 dark:hover:bg-purple-900/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 font-medium text-gray-900 dark:text-gray-100",children:h.user_name}),e.jsx("td",{className:"px-4 py-4 text-gray-700 dark:text-gray-300",children:h.service_name}),e.jsx("td",{className:"px-4 py-4 font-semibold text-purple-600 dark:text-purple-300",children:h.price}),e.jsx("td",{className:"px-4 py-4 text-gray-700 dark:text-gray-300",children:new Date(h.start_date).toLocaleDateString(t.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 dark:text-gray-300",children:new Date(h.end_date).toLocaleDateString(t.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:`flex items-center justify-center gap-3 ${r?"flex-row-reverse":""}`,children:[e.jsxs(w,{onClick:()=>f(h.id),section:"services",size:"sm",className:`text-xs gap-2 ${r?"flex-row-reverse":""}`,children:[e.jsx(P,{className:"w-4 h-4"}),s("reservations.confirm")]}),e.jsxs(w,{onClick:()=>v(h.id),variant:"outline",size:"sm",className:`text-xs gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 ${r?"flex-row-reverse":""}`,children:[e.jsx(B,{className:"w-4 h-4"}),s("reservations.cancel")]})]})})]},h.id)),a.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(W,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{children:s("reservations.noPending")})]})})]})]})})}),a.length===0&&e.jsxs("div",{className:"block md:hidden text-center p-8",children:[e.jsx(W,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s("reservations.noPending")})]})]})})]}),e.jsx(K,{isOpen:i.isOpen,onClose:()=>p({isOpen:!1,type:"confirm",reservationId:null}),onConfirm:S,title:i.type==="confirm"?s("reservations.confirmDialogTitle"):s("reservations.cancelDialogTitle"),description:i.type==="confirm"?s("reservations.confirmDialogDescription"):s("reservations.cancelDialogDescription"),confirmText:i.type==="confirm"?s("reservations.confirm"):s("reservations.cancel"),cancelText:s("common.cancel"),type:i.type==="confirm"?"success":"danger"})]})},Ae=()=>{const{t:s,i18n:t}=H(),r=t.dir()==="rtl",[a,l]=g.useState([]),[x,n]=g.useState(!0),[b,c]=g.useState(null),[i,p]=g.useState("all"),[m,f]=g.useState(""),[v,S]=g.useState(""),[h,C]=g.useState(""),[d,y]=g.useState("date"),u=g.useCallback(async()=>{n(!0),c(null);try{const L=(await Y()).filter(M=>M.status==="confirmed"||M.status==="cancelled");l(L)}catch{c(s("reservationsHistory.fetchError"))}finally{n(!1)}},[t.language,s]);g.useEffect(()=>{u()},[u]);const $=o=>{switch(o){case"confirmed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"cancelled":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}},E=o=>{switch(o){case"confirmed":return s("reservationsHistory.confirmedLabel");case"cancelled":return s("reservationsHistory.cancelledLabel");default:return o}},q=o=>{switch(o){case"confirmed":return e.jsx(P,{className:"w-4 h-4"});case"cancelled":return e.jsx(B,{className:"w-4 h-4"});default:return e.jsx(W,{className:"w-4 h-4"})}},Q=a.filter(o=>{if(i!=="all"&&o.status!==i)return!1;if(m){const L=m.toLowerCase(),M=o.user_name.toLowerCase().includes(L),ae=o.service_name.toLowerCase().includes(L);if(!M&&!ae)return!1}return!(v&&o.start_date<v||h&&o.start_date>h)}).sort((o,L)=>{switch(d){case"date":return new Date(L.start_date).getTime()-new Date(o.start_date).getTime();case"price":return L.price-o.price;case"status":return o.status.localeCompare(L.status);default:return 0}}),se=a.filter(o=>o.status==="confirmed").length,re=a.filter(o=>o.status==="cancelled").length,te=a.filter(o=>o.status==="confirmed").reduce((o,L)=>o+L.price,0);return e.jsxs("div",{className:"space-y-6 w-full max-w-6xl mx-auto px-2 sm:px-0",children:[b&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:r?"mr-3":"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:b}),e.jsx("button",{onClick:u,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:s("reservationsHistory.retry")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsx(k,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:e.jsx(N,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-600 dark:text-green-400",children:s("reservationsHistory.confirmedCount")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-700 dark:text-green-300 mt-1 sm:mt-2",children:se})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-200 dark:bg-green-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(P,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})})]})})}),e.jsx(k,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:e.jsx(N,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-600 dark:text-red-400",children:s("reservationsHistory.cancelledCount")}),e.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-red-700 dark:text-red-300 mt-1 sm:mt-2",children:re})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-200 dark:bg-red-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(B,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600 dark:text-red-400"})})]})})}),e.jsx(k,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:e.jsx(N,{className:"p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:s("reservationsHistory.totalRevenue")}),e.jsxs("p",{className:"text-base sm:text-xl md:text-2xl lg:text-3xl font-bold text-blue-700 dark:text-blue-300 mt-1 sm:mt-2 truncate",children:[te.toFixed(0)," ",s("dashboard.services.currency")]})]}),e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-200 dark:bg-blue-800/50 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})})]}),e.jsxs(k,{className:"w-full",children:[e.jsx(T,{children:e.jsxs("div",{className:`flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between ${r?"sm:flex-row-reverse text-right":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(I,{className:`flex items-center gap-2 ${r?"flex-row-reverse justify-end":""}`,children:[e.jsx(D,{className:"w-5 h-5 text-indigo-600"}),s("reservationsHistory.title")]}),e.jsx(_,{className:r?"text-right":"",children:s("reservationsHistory.description")})]}),e.jsxs(w,{onClick:u,disabled:x,variant:"outline",size:"sm",className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[x?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s("reservationsHistory.refresh")]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:`flex flex-wrap gap-2 mb-4 ${r?"justify-end":""}`,children:[{key:"all",label:s("reservationsHistory.allRecords"),icon:"ðŸ“Š"},{key:"confirmed",label:s("reservationsHistory.confirmed"),icon:"âœ…"},{key:"cancelled",label:s("reservationsHistory.cancelled"),icon:"âŒ"}].map(({key:o,label:L,icon:M})=>e.jsxs(w,{variant:i===o?"default":"outline",size:"sm",onClick:()=>p(o),className:`${i===o?"bg-indigo-600 hover:bg-indigo-700":""} flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[e.jsx("span",{className:r?"mr-2":"ml-2",children:M}),L]},o))}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg ${r?"text-right":""}`,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("reservationsHistory.search")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:s("reservationsHistory.searchPlaceholder"),value:m,onChange:o=>f(o.target.value),autoComplete:"off",className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${r?"pl-10 pr-3 text-right":"pl-3 pr-10"}`}),e.jsx("svg",{className:`absolute top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 ${r?"left-3":"right-3"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("reservationsHistory.dateFrom")}),e.jsx("input",{type:"date",value:v,onChange:o=>S(o.target.value),autoComplete:"off",className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${r?"pl-3 pr-3 text-right":"px-3"}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("reservationsHistory.dateTo")}),e.jsx("input",{type:"date",value:h,onChange:o=>C(o.target.value),autoComplete:"off",className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${r?"pl-3 pr-3 text-right":"px-3"}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s("reservationsHistory.sortBy")}),e.jsxs("select",{value:d,onChange:o=>y(o.target.value),className:`w-full py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent ${r?"pl-3 pr-3 text-right":"px-3"}`,children:[e.jsx("option",{value:"date",children:s("reservationsHistory.sortDate")}),e.jsx("option",{value:"price",children:s("reservationsHistory.sortPrice")}),e.jsx("option",{value:"status",children:s("reservationsHistory.sortStatus")})]})]})]}),(m||v||h||i!=="all")&&e.jsxs("div",{className:`mb-4 flex items-center justify-between ${r?"flex-row-reverse text-right":""}`,children:[e.jsxs("p",{className:`text-sm text-gray-600 dark:text-gray-400 ${r?"text-right":""}`,children:[s("reservationsHistory.resultsCount")," ",e.jsx("span",{className:"font-semibold text-indigo-600",children:Q.length})," ",s("reservationsHistory.of")," ",a.length]}),e.jsxs(w,{variant:"outline",size:"sm",onClick:()=>{f(""),S(""),C(""),p("all"),y("date")},className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),s("reservationsHistory.clearFilters")]})]}),x?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("reservationsHistory.loading")})]})}):e.jsxs("div",{className:"space-y-4",children:[Q.map(o=>e.jsx(k,{className:"rounded-2xl border border-indigo-100 dark:border-indigo-500/30 bg-white/85 dark:bg-gray-900/70 hover:shadow-xl transition-all duration-300",children:e.jsx(N,{className:"p-4 sm:p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:`flex flex-col items-center gap-2 text-center ${r?"sm:items-end sm:text-right":"sm:items-start sm:text-left"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 justify-center ${r?"sm:justify-end sm:flex-row-reverse":"sm:justify-start"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:e.jsx(V,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300"})}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s("reservationsHistory.patient")})]}),e.jsx("div",{className:"space-y-1",children:e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.user_name})})]}),e.jsxs("div",{className:`flex flex-col items-center gap-2 text-center ${r?"sm:items-end sm:text-right":"sm:items-start sm:text-left"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 justify-center ${r?"sm:justify-end sm:flex-row-reverse":"sm:justify-start"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(D,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s("reservationsHistory.service")})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:o.service_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.price," ",s("dashboard.services.currency")]})]})]}),e.jsxs("div",{className:`flex flex-col items-center gap-2 text-center ${r?"sm:items-end sm:text-right":"sm:items-start sm:text-left"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 justify-center ${r?"sm:justify-end sm:flex-row-reverse":"sm:justify-start"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-300"})}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s("reservationsHistory.date")})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[s("reservationsHistory.from"),": ",new Date(o.start_date).toLocaleDateString(t.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("p",{children:[s("reservationsHistory.to"),": ",new Date(o.end_date).toLocaleDateString(t.language==="ar"?"ar-EG":"en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsxs("div",{className:`flex flex-col items-center gap-2 text-center ${r?"sm:items-end sm:text-right":"sm:items-start sm:text-left"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 justify-center ${r?"sm:justify-end sm:flex-row-reverse":"sm:justify-start"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:e.jsx(W,{className:"w-5 h-5 text-purple-600 dark:text-purple-300"})}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s("reservationsHistory.status")})]}),e.jsx("div",{className:`flex justify-center ${r?"sm:justify-end":"sm:justify-start"}`,children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${$(o.status)}`,children:[q(o.status),E(o.status)]})})]})]})})},o.id)),Q.length===0&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx(D,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s("reservationsHistory.noRecords")})]})]})]})]})]})},F=({onEdit:s,onDelete:t,showEdit:r=!0,showDelete:a=!0,size:l="sm",disabled:x=!1})=>{const n={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},b={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[r&&s&&e.jsxs("button",{onClick:s,disabled:x,title:"Edit",className:`
            ${n[l]}
            relative group overflow-hidden
            bg-gradient-to-br from-blue-500 to-blue-600
            hover:from-blue-600 hover:to-blue-700
            dark:from-blue-600 dark:to-blue-700
            dark:hover:from-blue-700 dark:hover:to-blue-800
            text-white font-semibold rounded-full
            shadow-lg hover:shadow-xl hover:shadow-blue-500/50
            transform hover:-translate-y-1 hover:scale-110
            transition-all duration-300
            disabled:opacity-50 disabled:cursor-not-allowed
            disabled:transform-none disabled:hover:shadow-lg
            flex items-center justify-center
            border-2 border-blue-400/30
          `,children:[e.jsx("span",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 group-hover:animate-ping"}),e.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/0 via-white/30 to-white/0 opacity-0 group-hover:opacity-100 group-hover:animate-spin"}),e.jsx("svg",{className:`${b[l]} relative z-10 group-hover:rotate-12 transition-transform duration-300`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})]}),a&&t&&e.jsxs("button",{onClick:t,disabled:x,title:"Delete",className:`
            ${n[l]}
            relative group overflow-hidden
            bg-gradient-to-br from-red-500 to-rose-600
            hover:from-red-600 hover:to-rose-700
            dark:from-red-600 dark:to-rose-700
            dark:hover:from-red-700 dark:hover:to-rose-800
            text-white font-semibold rounded-full
            shadow-lg hover:shadow-xl hover:shadow-red-500/50
            transform hover:-translate-y-1 hover:scale-110
            transition-all duration-300
            disabled:opacity-50 disabled:cursor-not-allowed
            disabled:transform-none disabled:hover:shadow-lg
            flex items-center justify-center
            border-2 border-red-400/30
          `,children:[e.jsx("span",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 group-hover:animate-ping"}),e.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-white/0 via-white/30 to-white/0 opacity-0 group-hover:opacity-100 group-hover:animate-pulse"}),e.jsx("svg",{className:`${b[l]} relative z-10 group-hover:scale-110 transition-transform duration-300`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})]})},ze=({hospital:s,account:t,refreshData:r})=>{const{t:a,i18n:l}=H(),[x,n]=g.useState(!1),[b,c]=g.useState(!1),i=async p=>{p.preventDefault(),c(!0);const m=new FormData(p.currentTarget);try{await pe(m),j.success(a("dashboard.profile.updateSuccess")),n(!1),r()}catch(f){j.error(`${a("common.error")}: ${f.message}`)}finally{c(!1)}};return!s||!t?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 dark:border-teal-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("dashboard.profile.loading")})]})}):e.jsx("div",{className:"space-y-6 w-full max-w-3xl mx-auto",children:e.jsxs(k,{children:[e.jsxs(T,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5 text-teal-600"}),a("dashboard.profile.title")]}),e.jsx(_,{children:a("dashboard.profile.description")})]}),e.jsx(N,{children:x?e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(O,{label:a("dashboard.profile.hospitalName"),name:"full_name",defaultValue:s.full_name,required:!0}),e.jsx(O,{label:a("dashboard.profile.address"),name:"address",defaultValue:s.address,required:!0}),e.jsx(O,{label:a("dashboard.profile.phone"),name:"phone_number",defaultValue:t.phone_number,required:!0})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(w,{type:"submit",disabled:b,section:"hospital",children:a(b?"common.saving":"common.saveChanges")}),e.jsx(w,{type:"button",onClick:()=>n(!1),variant:"outline",children:a("common.cancel")})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:a("dashboard.profile.hospitalName")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.full_name})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:a("dashboard.profile.address")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.address})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:a("dashboard.profile.email")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.email})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:a("dashboard.profile.phone")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.phone_number})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:a("dashboard.profile.status")}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t.is_approved==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:t.is_approved==="approved"?a("dashboard.profile.approved"):a("dashboard.profile.pending")})]}),e.jsxs(w,{onClick:()=>n(!0),section:"hospital",children:[e.jsx(Ne,{className:`w-4 h-4 ${l.language==="ar"?"mr-2":"ml-2"}`}),a("dashboard.profile.editProfile")]})]})]})})]})})},Pe=()=>{const{t:s,i18n:t}=H(),r=t.dir()==="rtl",[a,l]=g.useState([]),[x,n]=g.useState(!0),[b,c]=g.useState(!1),[i,p]=g.useState(null),[m,f]=g.useState({isOpen:!1,serviceId:null}),v=g.useCallback(async()=>{n(!0);try{const d=await ce();l(d)}catch{j.error(s("dashboard.services.saveError"))}finally{n(!1)}},[t.language,s]);g.useEffect(()=>{v()},[v]);const S=d=>{f({isOpen:!0,serviceId:d})},h=async()=>{if(!m.serviceId)return;const d=j.loading(s("dashboard.services.deleting"));try{await ue(m.serviceId),j.dismiss(d),j.success(s("dashboard.services.deleteSuccess")),v()}catch{j.dismiss(d),j.error(s("dashboard.services.deleteError"))}finally{f({isOpen:!1,serviceId:null})}},C=async d=>{d.preventDefault();const y=new FormData(d.currentTarget),u=y.get("price"),$=y.get("capacity"),E=j.loading(s(i?"dashboard.services.updating":"dashboard.services.adding"));try{i?u&&$&&await he(i.id,Number(u),Number($)):await ge(y),j.dismiss(E),j.success(s(i?"dashboard.services.updateSuccess":"dashboard.services.addSuccess")),v(),c(!1),p(null)}catch(q){j.dismiss(E),j.error(`${s("dashboard.services.saveError")}: ${q.message}`)}};return e.jsxs("div",{className:"space-y-6 w-full max-w-6xl mx-auto px-2 sm:px-0",children:[e.jsxs(k,{className:"w-full",children:[e.jsx(T,{children:e.jsxs("div",{className:`flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between ${r?"sm:flex-row-reverse text-right":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(I,{className:`flex items-center gap-2 ${r?"flex-row-reverse justify-end":""}`,children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),s("dashboard.services.title")]}),e.jsx(_,{className:r?"text-right":"",children:s("dashboard.services.description")})]}),e.jsxs(w,{onClick:()=>{p(null),c(!0)},section:"services",className:"text-xs sm:text-sm px-2 sm:px-4 h-8 sm:h-10",children:[e.jsx(Z,{className:`w-3 h-3 sm:w-4 sm:h-4 ${t.language==="ar"?"mr-1 sm:mr-2":"ml-1 sm:ml-2"}`}),e.jsx("span",{className:"hidden xs:inline",children:s("dashboard.services.addService")}),e.jsx("span",{className:"xs:hidden",children:s("dashboard.services.add")})]})]})}),e.jsx(N,{children:x?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("common.loading")})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"block md:hidden space-y-4 w-full",children:[a.map(d=>e.jsx(k,{className:"w-full border border-blue-200 dark:border-blue-500/40 rounded-xl shadow-sm bg-white/80 dark:bg-gray-800/70 backdrop-blur",children:e.jsxs(N,{className:"p-4 space-y-4 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center shadow-inner",children:e.jsx(A,{className:"w-6 h-6 text-blue-600 dark:text-blue-300"})})}),e.jsx("div",{className:"space-y-1",children:e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:d.service_name})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-200 shadow-sm",children:[e.jsx("span",{children:"ðŸ’°"}),d.price," ",s("dashboard.services.currency")]}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-200 shadow-sm",children:[e.jsx("span",{children:"ðŸ‘¥"}),d.capacity," ",s("dashboard.services.capacity")]})]}),e.jsx("div",{className:`flex justify-center gap-3 pt-2 ${r?"flex-row-reverse":""}`,children:e.jsx(F,{onEdit:()=>{p(d),c(!0)},onDelete:()=>S(d.id),size:"sm"})})]})},d.id)),a.length===0&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx(A,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s("dashboard.services.noServices")})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"w-full max-w-5xl mx-auto overflow-x-auto rounded-2xl border border-blue-100 dark:border-blue-900/40 bg-white/90 dark:bg-gray-900/60 shadow-sm shadow-blue-100/50 px-2",children:e.jsxs("table",{className:"w-full text-sm text-gray-700 dark:text-gray-200 md:min-w-[48rem] lg:min-w-[52rem]",children:[e.jsx("thead",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 text-blue-900 dark:text-blue-100 uppercase tracking-wide text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-blue-100/70 dark:border-blue-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("dashboard.services.serviceName")}),e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-blue-100/70 dark:border-blue-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("dashboard.services.price")}),e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-blue-100/70 dark:border-blue-900/40 ${t.language==="ar"?"text-right":"text-left"}`,children:s("dashboard.services.capacity")}),e.jsx("th",{className:"px-4 py-3 font-semibold border-b border-blue-100/70 dark:border-blue-900/40 text-center",children:s("common.actions")})]})}),e.jsxs("tbody",{children:[a.map(d=>e.jsxs("tr",{className:"odd:bg-white even:bg-blue-50/40 dark:odd:bg-gray-900/60 dark:even:bg-gray-900/40 hover:bg-blue-100/40 dark:hover:bg-blue-900/30 transition-colors",children:[e.jsx("td",{className:`px-4 py-4 font-medium text-gray-900 dark:text-gray-100 ${r?"text-right":"text-left"}`,children:d.service_name}),e.jsx("td",{className:`px-4 py-4 font-semibold text-blue-600 dark:text-blue-300 ${r?"text-right":"text-left"}`,children:d.price}),e.jsx("td",{className:`px-4 py-4 text-gray-700 dark:text-gray-300 ${r?"text-right":"text-left"}`,children:d.capacity}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:`flex justify-center ${r?"flex-row-reverse":""}`,children:e.jsx(F,{onEdit:()=>{p(d),c(!0)},onDelete:()=>S(d.id),size:"sm"})})})]},d.id)),a.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(A,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{children:s("dashboard.services.noServices")})]})})]})]})})})]})})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs(k,{className:"w-full max-w-md dark:bg-gray-800",children:[e.jsx(T,{children:e.jsx(I,{children:s(i?"dashboard.services.editService":"dashboard.services.addService")})}),e.jsx(N,{children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[!i&&e.jsx(O,{label:s("dashboard.services.serviceName"),name:"service_name",required:!0}),e.jsx(O,{label:s("dashboard.services.price"),name:"price",type:"number",defaultValue:i==null?void 0:i.price,required:!0}),e.jsx(O,{label:s("dashboard.services.capacity"),name:"capacity",type:"number",defaultValue:i==null?void 0:i.capacity,required:!0}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx(w,{type:"button",onClick:()=>c(!1),variant:"outline",children:s("common.cancel")}),e.jsx(w,{type:"submit",section:"services",children:s("common.save")})]})]})})]})}),e.jsx(K,{isOpen:m.isOpen,onClose:()=>f({isOpen:!1,serviceId:null}),onConfirm:h,title:s("common.confirm"),description:s("dashboard.services.deleteConfirm"),confirmText:s("common.delete"),cancelText:s("common.cancel"),type:"danger"})]})},Be=()=>{const{t:s,i18n:t}=H(),r=t.dir()==="rtl",[a,l]=g.useState([]),[x,n]=g.useState(!0),[b,c]=g.useState(null),[i,p]=g.useState({isOpen:!1,dayId:null}),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=d=>(d.toLowerCase(),s(`dashboard.schedule.${{sunday:"sunday",monday:"monday",tuesday:"tuesday",wednesday:"wednesday",thursday:"thursday",friday:"friday",saturday:"saturday"}[d.toLowerCase()]||d.toLowerCase()}`)),v=g.useCallback(async()=>{n(!0),c(null);try{const d=await oe();l(d)}catch{c(s("dashboard.schedule.fetchError")),l([])}finally{n(!1)}},[t.language,s]);g.useEffect(()=>{v()},[v]);const S=async d=>{d.preventDefault();const u=new FormData(d.currentTarget).get("day_of_week");if(a.find(E=>E.day_of_week.toLowerCase()===u.toLowerCase())){j.warning(s("dashboard.schedule.alreadyAdded"));return}const $=j.loading(s("dashboard.schedule.adding"));try{await xe(u),j.dismiss($),j.success(s("dashboard.schedule.addSuccess")),v(),d.target.reset()}catch(E){j.dismiss($),j.error(`${s("dashboard.schedule.addError")}: ${E.message}`)}},h=d=>{p({isOpen:!0,dayId:d})},C=async()=>{if(!i.dayId)return;const d=j.loading(s("dashboard.schedule.deleting"));try{await me(i.dayId),j.dismiss(d),j.success(s("dashboard.schedule.deleteSuccess")),v()}catch(y){j.dismiss(d),j.error(`${s("dashboard.schedule.deleteError")}: ${y.message}`)}finally{p({isOpen:!1,dayId:null})}};return e.jsxs("div",{className:"space-y-6 w-full max-w-5xl mx-auto px-2 sm:px-0",children:[b&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:r?"mr-3":"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:b}),e.jsx("button",{onClick:v,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:s("dashboard.schedule.retry")})]})]})}),e.jsxs(k,{className:"w-full",children:[e.jsx(T,{children:e.jsxs("div",{className:`flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between ${r?"sm:flex-row-reverse text-right":""}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(I,{className:`flex items-center gap-2 ${r?"flex-row-reverse justify-end":""}`,children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),s("dashboard.schedule.title")]}),e.jsx(_,{className:r?"text-right":"",children:s("dashboard.schedule.description")})]}),e.jsxs(w,{onClick:v,disabled:x,variant:"outline",size:"sm",className:`flex items-center gap-2 ${r?"flex-row-reverse":""}`,children:[x?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s("dashboard.schedule.refresh")]})]})}),e.jsx(N,{children:e.jsx("form",{onSubmit:S,className:"space-y-4",children:e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${r?"text-right":""}`,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"day_of_week",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s("dashboard.schedule.selectDay")}),e.jsx("select",{name:"day_of_week",id:"day_of_week",className:`flex h-10 w-full rounded-md border border-input bg-background py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 dark:text-black ${r?"pl-3 pr-8 text-right":"pl-3 pr-8"}`,children:m.map(d=>e.jsx("option",{value:d,children:f(d)},d))})]}),e.jsx("div",{className:`flex items-end ${r?"justify-end":""}`,children:e.jsxs(w,{type:"submit",section:"hospital",className:`w-full md:w-auto flex items-center justify-center gap-2 text-xs sm:text-sm px-2 sm:px-4 h-8 sm:h-10 ${r?"flex-row-reverse":""}`,children:[e.jsx(Z,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s("dashboard.schedule.addDay")]})})]})})})]}),e.jsxs(k,{className:"w-full",children:[e.jsxs(T,{children:[e.jsxs(I,{className:`flex items-center gap-2 ${r?"flex-row-reverse justify-end":""}`,children:[e.jsx(R,{className:"w-5 h-5 text-green-600"}),s("dashboard.schedule.currentDays")]}),e.jsx(_,{className:r?"text-right":"",children:s("dashboard.schedule.currentDaysDesc")})]}),e.jsx(N,{children:x?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 dark:border-green-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("common.loading")})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"block md:hidden space-y-4 w-full",children:[a.map(d=>e.jsx(k,{className:"w-full border border-green-200 dark:border-green-500/40 rounded-xl shadow-sm bg-white/80 dark:bg-gray-800/70 backdrop-blur",children:e.jsxs(N,{className:"p-4 space-y-4 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/40 flex items-center justify-center shadow-inner",children:e.jsx(D,{className:"w-6 h-6 text-green-600 dark:text-green-300"})})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:f(d.day_of_week)}),e.jsx("div",{className:`flex justify-center ${r?"flex-row-reverse":""}`,children:e.jsx(F,{onDelete:()=>h(d.id),showEdit:!1,size:"sm"})})]})},d.id)),a.length===0&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx(D,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s("dashboard.schedule.noDays")})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"w-full max-w-4xl mx-auto overflow-x-auto rounded-2xl border border-green-100 dark:border-green-900/40 bg-white/90 dark:bg-gray-900/60 shadow-sm shadow-green-100/50",children:e.jsxs("table",{className:"min-w-[36rem] w-full text-sm text-gray-700 dark:text-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 text-green-900 dark:text-green-100 uppercase tracking-wide text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-4 py-3 font-semibold border-b border-green-100/70 dark:border-green-900/40 ${r?"text-right":"text-left"}`,children:s("dashboard.schedule.workDay")}),e.jsx("th",{className:"px-4 py-3 font-semibold border-b border-green-100/70 dark:border-green-900/40 text-center",children:s("common.actions")})]})}),e.jsxs("tbody",{children:[a.map(d=>e.jsxs("tr",{className:"odd:bg-white even:bg-green-50/40 dark:odd:bg-gray-900/60 dark:even:bg-gray-900/40 hover:bg-green-100/40 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx("td",{className:`px-4 py-4 ${r?"text-right":"text-left"}`,children:e.jsxs("div",{className:`flex items-center gap-3 ${r?"flex-row-reverse":""}`,children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/40 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(D,{className:"w-4 h-4 text-green-600 dark:text-green-300"})}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:f(d.day_of_week)})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:`flex justify-center ${r?"flex-row-reverse":""}`,children:e.jsx(F,{onDelete:()=>h(d.id),showEdit:!1,size:"sm"})})})]},d.id)),a.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(D,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{children:s("dashboard.schedule.noDays")})]})})]})]})})})]})})]}),e.jsx(K,{isOpen:i.isOpen,onClose:()=>p({isOpen:!1,dayId:null}),onConfirm:C,title:s("common.confirm"),description:s("dashboard.schedule.deleteConfirm"),confirmText:s("common.delete"),cancelText:s("common.cancel"),type:"danger"})]})},Ge=({onLogout:s})=>{var d;const{t,i18n:r}=H(),[a,l]=g.useState("overview"),[x,n]=g.useState({hospital:null,account:null}),[b,c]=g.useState(!0),[i,p]=g.useState(!1),m=g.useCallback(async()=>{c(!0);try{const[y,u]=await ne();n({account:y,hospital:u})}catch{s()}finally{c(!1)}},[r.language,s]);g.useEffect(()=>{m()},[m]);const f=async()=>{try{await ie()}catch{}finally{s()}},v=y=>{(y==="overview"||y==="profile"||y==="services"||y==="schedule"||y==="reservations"||y==="history")&&l(y)},S=()=>{var y,u;switch(a){case"overview":return e.jsx(J,{onNavigate:v,userFullName:(y=x.hospital)==null?void 0:y.full_name});case"profile":return e.jsx(ze,{hospital:x.hospital,account:x.account,refreshData:m});case"services":return e.jsx(Pe,{});case"schedule":return e.jsx(Be,{});case"reservations":return e.jsx(Oe,{});case"history":return e.jsx(Ae,{});default:return e.jsx(J,{onNavigate:v,userFullName:(u=x.hospital)==null?void 0:u.full_name})}},C=(()=>{switch(a){case"overview":return null;case"profile":return{title:t("dashboard.profile.title"),description:t("dashboard.profile.description"),icon:"ðŸ‘¤",color:"from-teal-500 to-cyan-600"};case"services":return{title:t("dashboard.services.title"),description:t("dashboard.services.description"),icon:"ðŸ¥",color:"from-blue-500 to-cyan-600"};case"schedule":return{title:t("dashboard.navigation.workSchedule"),description:t("dashboard.schedule.description"),icon:"ðŸ“…",color:"from-green-500 to-emerald-600"};case"reservations":return{title:t("dashboard.navigation.reservations"),description:t("dashboard.navigation.reservations"),icon:"â³",color:"from-purple-500 to-indigo-600"};case"history":return{title:t("dashboard.navigation.reservationHistory"),description:t("dashboard.navigation.history"),icon:"ðŸ“œ",color:"from-indigo-500 to-purple-600"};default:return null}})();return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col overflow-x-hidden transition-colors duration-200",children:[e.jsx(De,{onLogout:f,onMenuClick:()=>p(!0),userFullName:(d=x.hospital)==null?void 0:d.full_name,activeTab:a,onTabChange:v}),e.jsx($e,{isOpen:i,onClose:()=>p(!1),activeTab:a,onTabChange:y=>{l(y)}}),e.jsx("div",{className:"flex-1 flex flex-col pt-14 sm:pt-16",children:e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-gray-50 dark:bg-gray-900 items-stretch",children:[C&&e.jsx("div",{className:`bg-gradient-to-r ${C.color} text-white shadow-lg w-full`,children:e.jsx("div",{className:"px-2 sm:px-4 py-3",children:e.jsxs("div",{className:`flex items-center gap-2 ${r.language==="ar"?"flex-row-reverse":"flex-row"}`,children:[e.jsx("div",{className:"text-2xl",children:C.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base sm:text-lg font-bold",children:C.title}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm opacity-90",children:C.description})]})]})})}),e.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 py-6 flex-1 flex flex-col overflow-x-hidden",children:S()})]})})]})};export{Ge as default};
