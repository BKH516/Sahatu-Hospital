import{u as ee,j as e,T as re,A as q,c as O,r as i,g as se,d as te,e as ae,h as le,i as de,k as ne,m as ie,n as ce,o as oe,p as xe}from"./index-BBP6-Z30.js";import{M as me,S as ge,e as he,f as ue,g as je,h as B,i as R,j as D,D as be,U as W,H as pe,C as v,a as _,b as T,c as I,d as N,B as y,A as H,k as $,X as V,P as Y,T as K,l as G,E as J,I as A}from"./Input-bEaKTtyE.js";const ye=()=>{const{theme:r,toggleTheme:l}=ee();return e.jsx("button",{onClick:l,className:"flex items-center justify-center p-2 rounded-lg transition-all duration-200 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300","aria-label":r==="light"?"ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ":"ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ",title:r==="light"?"Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ":"Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ",children:r==="light"?e.jsx(me,{className:"w-5 h-5"}):e.jsx(ge,{className:"w-5 h-5"})})},fe=({onLogout:r,onMenuClick:l,userFullName:s,activeTab:g,onTabChange:m})=>{const c=[{key:"overview",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",icon:"ğŸ "},{key:"services",label:"Ø§Ù„Ø®Ø¯Ù…Ø§Øª",icon:"ğŸ¥"},{key:"schedule",label:"Ø§Ù„Ø¬Ø¯ÙˆÙ„",icon:"ğŸ“…"},{key:"reservations",label:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",icon:"â³"},{key:"history",label:"Ø§Ù„Ø³Ø¬Ù„",icon:"ğŸ“œ"},{key:"profile",label:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",icon:"ğŸ‘¤"}],n=o=>{m&&m(o)};return e.jsx("header",{className:"w-full h-16 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm z-30 fixed top-0 right-0 left-0 transition-colors duration-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full",children:e.jsxs("div",{className:"flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"lg:hidden flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg p-2 transition-all duration-200",onClick:l,"aria-label":"ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©",children:e.jsx(he,{size:24})}),e.jsx("div",{children:e.jsx("img",{src:"/Sahatu-Hospital/assets/sihatelogo.png",alt:"ØµØ­ØªÙŠ Ù„ÙˆØ¬Ùˆ",className:"h-16 w-auto object-contain"})}),s&&e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.75 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),e.jsx("span",{className:"text-sm font-medium",children:s})]})]}),e.jsx("div",{className:"hidden lg:flex items-center gap-1",children:c.map(o=>e.jsxs("button",{onClick:()=>n(o.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap min-w-fit ${g===o.key?"bg-teal-600 dark:bg-teal-500 text-white shadow-lg shadow-teal-500/25":"text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 hover:bg-teal-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"text-base",children:o.icon}),e.jsx("span",{children:o.label})]},o.key))}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-2 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200 font-medium",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 15l3-3m0 0l-3-3m3 3H9"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Ø®Ø±ÙˆØ¬"})]})]})})]})})})},ve=({isOpen:r,onClose:l,activeTab:s,onTabChange:g})=>{const m=[{id:"overview",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",icon:je,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"services",label:"Ø§Ù„Ø®Ø¯Ù…Ø§Øª",icon:B,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"schedule",label:"Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„",icon:R,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"},{id:"reservations",label:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",icon:D,activeColor:"from-purple-600 to-indigo-600",hoverColor:"hover:bg-purple-50"},{id:"history",label:"Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",icon:be,activeColor:"from-indigo-600 to-purple-600",hoverColor:"hover:bg-indigo-50"},{id:"profile",label:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ",icon:W,activeColor:"from-teal-600 to-blue-600",hoverColor:"hover:bg-teal-50"}];return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 z-40 lg:hidden",onClick:l}),e.jsx("div",{className:`
        fixed top-0 right-0 h-full w-64 z-50 transform transition-transform duration-300 ease-in-out lg:hidden
        ${r?"translate-x-0":"translate-x-full"}
      `,children:e.jsxs("div",{className:"h-full w-full relative bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 border-l border-gray-200 dark:border-gray-700 shadow-lg transition-colors duration-200",children:[e.jsx("button",{onClick:l,className:"absolute top-4 left-4 p-2 rounded-lg transition-colors duration-200 ease-in-out text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:e.jsx(ue,{className:"w-6 h-6"})}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 pt-16",children:e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"Øµ"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Ù…Ù†ØµØ© ØµØ­ØªÙŠ"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…"})]})]})}),e.jsx("nav",{className:"mt-6 px-4",children:e.jsx("ul",{className:"space-y-2",children:m.map(c=>{const n=c.icon,o=s===c.id;return e.jsx("li",{children:e.jsxs("button",{onClick:()=>{g(c.id),l()},className:`
                        w-full flex items-center space-x-3 space-x-reverse px-4 py-3 rounded-lg
                        transition-all duration-200 ease-in-out text-right
                        ${o?`bg-gradient-to-l ${c.activeColor} text-white shadow-lg`:`text-gray-600 dark:text-gray-300 ${c.hoverColor} dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white`}
                      `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:c.label})]})},c.id)})})})]})})]})};let Q=!0;async function F(r,l={},s){const g=re.getToken(),m=new Headers(l.headers||{});m.set("Accept","application/json"),l.body instanceof FormData?m.delete("Content-Type"):l.body&&!m.has("Content-Type")&&m.set("Content-Type","application/json"),g&&m.set("Authorization",`Bearer ${g}`);try{const c=new AbortController,n=setTimeout(()=>c.abort(),q.REQUEST_TIMEOUT),o=await fetch(`${q.BASE_URL}${r}`,{...l,headers:m,signal:c.signal});if(clearTimeout(n),Q=!0,!o.ok){const h=await o.json().catch(()=>({message:`HTTP ${o.status}`}));throw new Error(h.message||"API error")}const x=o.headers.get("content-type");return o.status===204||!x||!x.includes("application/json")?null:await o.json()}catch(c){if(Q=!1,s!==void 0)return console.warn(`API call failed for ${r}, using fallback`,c),s;throw c}}const Ne={workDays:{total:0,days:[]},services:{total:0,averagePrice:0,totalCapacity:0},reservations:{total:0,pending:0,confirmed:0,cancelled:0,completed:0,today:0,thisWeek:0,thisMonth:0,revenue:0}},U=async()=>await F(O.HOSPITAL_RESERVATIONS,{},[])||[],ke=async r=>(await U()).filter(s=>s.status===r),we=async()=>await F(O.HOSPITAL_SERVICES,{},[])||[],Ce=async()=>await F(O.HOSPITAL_WORK_SCHEDULES,{},[])||[],Se=async(r,l)=>{try{return await F(`${O.HOSPITAL_RESERVATIONS_UPDATE_STATUS(r)}?status=${encodeURIComponent(l)}`,{method:"PATCH"}),!0}catch(s){throw console.error("Error updating reservation status:",s),s}},De=async()=>{try{const[r,l,s]=await Promise.all([U(),we(),Ce()]),g=new Date().toISOString().split("T")[0],m=new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],c=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0],n=new Date;n.setDate(n.getDate()-n.getDay());const o=n.toISOString().split("T")[0],x=r.filter(b=>b.start_date===g),h=r.filter(b=>b.start_date>=o),u=r.filter(b=>b.start_date>=m&&b.start_date<=c),a=r.filter(b=>b.status==="pending"),f=r.filter(b=>b.status==="confirmed"),k=r.filter(b=>b.status==="completed"),p=r.filter(b=>b.status==="cancelled"),w=r.reduce((b,d)=>b+(d.price||0),0),j=l.length>0?l.reduce((b,d)=>b+(parseFloat(d.price)||0),0)/l.length:0,S=l.reduce((b,d)=>b+(d.capacity||0),0),M=s.map(b=>b.day_of_week);return{workDays:{total:s.length,days:M},services:{total:l.length,averagePrice:Math.round(j*100)/100,totalCapacity:S},reservations:{total:r.length,pending:a.length,confirmed:f.length,cancelled:p.length,completed:k.length,today:x.length,thisWeek:h.length,thisMonth:u.length,revenue:w}}}catch(r){return console.error("Error getting dashboard stats:",r),Ne}},X=({onNavigate:r,userFullName:l})=>{const[s,g]=i.useState(null),[m,c]=i.useState(!0);i.useEffect(()=>{(async()=>{try{c(!0);const u=await De();g(u)}catch(u){console.error("Error loading dashboard stats:",u)}finally{c(!1)}})()},[]);const n=()=>{const h=new Date().getHours();return h<12?"ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±":(h<17,"Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±")},o=()=>{const h=new Date,u={weekday:"long",year:"numeric",month:"long",day:"numeric"};return h.toLocaleDateString("ar-EG",u)},x=()=>l&&l!==""?l:"Ù…Ø³ØªØ´ÙÙ‰ ØµØ­ØªÙŠ";return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-teal-500 via-blue-600 to-indigo-700 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"text-center lg:text-right flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:[n(),"ØŒ ",x()]}),e.jsx("p",{className:"text-lg lg:text-xl text-teal-100 mb-3",children:"Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"}),e.jsx("p",{className:"text-sm text-teal-200 opacity-90",children:o()})]}),e.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-3",children:[e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30",children:[e.jsx("span",{className:"text-lg",children:"ğŸ¥"}),e.jsx("span",{className:"mr-2 font-medium text-sm",children:"Ù…Ø³ØªØ´ÙÙ‰ ØµØ­ØªÙŠ"})]}),e.jsx("div",{className:"text-center group cursor-pointer",onClick:()=>r("services"),children:e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30",children:[e.jsx("span",{className:"text-lg",children:"ğŸ“±"}),e.jsx("span",{className:"mr-2 font-medium text-sm",children:"Ø¥Ø¯Ø§Ø±Ø© Ø°ÙƒÙŠØ©"})]})}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl px-4 py-2 border border-white/30",children:[e.jsx("span",{className:"text-lg",children:"âš¡"}),e.jsx("span",{className:"mr-2 font-medium text-sm",children:"Ø³Ø±Ø¹Ø© ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡"})]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-24 h-24 lg:w-32 lg:h-32 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border-4 border-white/30 shadow-2xl",children:e.jsx(pe,{className:"w-12 h-12 lg:w-16 lg:h-16 text-white"})})})]})})]}),m&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"}),e.jsx("p",{className:"mr-4 text-gray-600 dark:text-gray-300",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª..."})]}),!m&&s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.jsxs(v,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-green-500",children:[e.jsxs(_,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-6 h-6 text-green-600"}),"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¬Ø¯ÙˆÙ„ Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„"]}),e.jsx(I,{children:"Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-6 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium mb-1",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:s.workDays.total})]}),e.jsx("div",{className:"w-14 h-14 bg-green-500/20 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-7 h-7 text-green-600"})})]})}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/30 dark:to-emerald-800/20 rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium mb-2",children:"Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ØªØ§Ø­Ø©"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.workDays.days.length>0?s.workDays.days.map((h,u)=>e.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-xs font-medium rounded-full shadow-sm",children:h},u)):e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙŠØ§Ù… Ø¹Ù…Ù„ Ù…Ø­Ø¯Ø¯Ø©"})})]})})]}),e.jsxs(y,{onClick:()=>r("schedule"),className:"w-full md:w-auto",section:"hospital",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Ø¥Ø¯Ø§Ø±Ø© Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„"]})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.jsxs(v,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-blue-500",children:[e.jsxs(_,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-6 h-6 text-blue-600"}),"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª"]}),e.jsx(I,{children:"Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 rounded-xl border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium mb-1",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:s.services.total})]}),e.jsx("div",{className:"w-14 h-14 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(B,{className:"w-7 h-7 text-blue-600"})})]})}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/30 dark:to-cyan-800/20 rounded-xl border border-cyan-200 dark:border-cyan-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-cyan-700 dark:text-cyan-400 font-medium mb-1",children:"Ù…ØªÙˆØ³Ø· Ø§Ù„Ø³Ø¹Ø±"}),e.jsxs("p",{className:"text-2xl font-bold text-cyan-900 dark:text-cyan-100",children:[s.services.averagePrice.toFixed(2)," â‚ª"]})]}),e.jsx("div",{className:"w-14 h-14 bg-cyan-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ğŸ’°"})})]})}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/20 rounded-xl border border-indigo-200 dark:border-indigo-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-400 font-medium mb-1",children:"Ø§Ù„Ø³Ø¹Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©"}),e.jsx("p",{className:"text-3xl font-bold text-indigo-900 dark:text-indigo-100",children:s.services.totalCapacity})]}),e.jsx("div",{className:"w-14 h-14 bg-indigo-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ğŸ“Š"})})]})})]}),e.jsxs(y,{onClick:()=>r("services"),className:"w-full md:w-auto",section:"services",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª"]})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.jsxs(v,{className:"hover:shadow-lg transition-shadow duration-300 border-r-4 border-r-purple-500",children:[e.jsxs(_,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-6 h-6 text-purple-600"}),"Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"]}),e.jsx(I,{children:"Ø­Ø§Ù„Ø© ÙˆØªÙØ§ØµÙŠÙ„ Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø±Ø¶Ù‰"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/20 rounded-xl border border-purple-200 dark:border-purple-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-400 font-medium mb-1",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:s.reservations.total})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/30 dark:to-yellow-800/20 rounded-xl border border-yellow-200 dark:border-yellow-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 font-medium mb-1",children:"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-900 dark:text-yellow-100",children:s.reservations.pending})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/20 rounded-xl border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 font-medium mb-1",children:"Ù…Ø¤ÙƒØ¯Ø©"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:s.reservations.confirmed})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/20 rounded-xl border border-red-200 dark:border-red-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 font-medium mb-1",children:"Ù…Ù„ØºØ§Ø©"}),e.jsx("p",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:s.reservations.cancelled})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"p-4 bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-900/30 dark:to-teal-800/20 rounded-xl border border-teal-200 dark:border-teal-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-400 font-medium mb-1",children:"Ù…ÙƒØªÙ…Ù„Ø©"}),e.jsx("p",{className:"text-2xl font-bold text-teal-900 dark:text-teal-100",children:s.reservations.completed})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/20 rounded-xl border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 font-medium mb-1",children:"Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ÙŠÙˆÙ…"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:s.reservations.today})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/30 dark:to-indigo-800/20 rounded-xl border border-indigo-200 dark:border-indigo-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-indigo-700 dark:text-indigo-400 font-medium mb-1",children:"Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:s.reservations.thisWeek})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/30 dark:to-pink-800/20 rounded-xl border border-pink-200 dark:border-pink-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-pink-700 dark:text-pink-400 font-medium mb-1",children:"Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"}),e.jsx("p",{className:"text-2xl font-bold text-pink-900 dark:text-pink-100",children:s.reservations.thisMonth})]})})]}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/30 dark:to-emerald-800/20 rounded-xl border-2 border-emerald-300 dark:border-emerald-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-400 font-medium mb-1",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª"}),e.jsxs("p",{className:"text-4xl font-bold text-emerald-900 dark:text-emerald-100",children:[s.reservations.revenue.toFixed(2)," â‚ª"]})]}),e.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ğŸ’µ"})})]})}),e.jsxs(y,{onClick:()=>r("reservations"),className:"w-full md:w-auto",section:"services",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"]})]})})]})})]})]})},Le=()=>{const[r,l]=i.useState([]),[s,g]=i.useState(!0),[m,c]=i.useState(null),[n,o]=i.useState(""),[x,h]=i.useState(""),[u,a]=i.useState(""),[f,k]=i.useState("date"),p=i.useCallback(async()=>{g(!0),c(null);try{const d=await ke("pending");l(d)}catch{c("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù….")}finally{g(!1)}},[]);i.useEffect(()=>{p()},[p]);const w=async(d,L)=>{try{await Se(d,L)?(await p(),alert(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø² Ø¥Ù„Ù‰: ${S(L)}`)):alert("ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø²")}catch{alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø²")}},j=d=>{switch(d){case"pending":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"confirmed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"cancelled":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}},S=d=>{switch(d){case"pending":return"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±";case"confirmed":return"Ù…Ø¤ÙƒØ¯";case"cancelled":return"Ù…Ù„ØºÙŠ";default:return d}},M=r.filter(d=>{if(n){const L=n.toLowerCase(),z=d.user_name.toLowerCase().includes(L),P=d.service_name.toLowerCase().includes(L);if(!z&&!P)return!1}return!(x&&d.start_date<x||u&&d.start_date>u)}).sort((d,L)=>{switch(f){case"date":return new Date(L.start_date).getTime()-new Date(d.start_date).getTime();case"price":return L.price-d.price;default:return 0}}),b=r.length;return e.jsxs("div",{className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:m}),e.jsx("button",{onClick:p,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"})]})]})}),e.jsxs(v,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-purple-600"}),"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"]}),e.jsx(I,{children:"Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØªØ£ÙƒÙŠØ¯"})]}),e.jsxs(y,{onClick:p,disabled:s,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"ØªØ­Ø¯ÙŠØ«"]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"mb-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-200 dark:bg-yellow-800/50 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:["Ù„Ø¯ÙŠÙƒ ",e.jsx("span",{className:"font-bold text-lg",children:b})," Ø­Ø¬Ø² Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"]}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØªØ£ÙƒÙŠØ¯ Ø£Ùˆ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ø¨Ø­Ø«"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶ Ø£Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø©...",value:n,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ù…Ù† ØªØ§Ø±ÙŠØ®"}),e.jsx("input",{type:"date",value:x,onChange:d=>h(d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®"}),e.jsx("input",{type:"date",value:u,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨"}),e.jsxs("select",{value:f,onChange:d=>k(d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"date",children:"Ø§Ù„ØªØ§Ø±ÙŠØ® (Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹)"}),e.jsx("option",{value:"price",children:"Ø§Ù„Ø³Ø¹Ø± (Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø£ÙˆÙ„Ø§Ù‹)"})]})]})]}),(n||x||u)&&e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬: ",e.jsx("span",{className:"font-semibold text-purple-600",children:M.length})," Ù…Ù† Ø£ØµÙ„ ",r.length]}),e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{o(""),h(""),a(""),k("date")},className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±"]})]}),s?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})}):e.jsxs("div",{className:"space-y-4",children:[M.map(d=>e.jsx(v,{className:"hover:shadow-lg transition-shadow duration-300",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„Ù…Ø±ÙŠØ¶"})]}),e.jsx("div",{className:"pl-6",children:e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:d.user_name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„Ø®Ø¯Ù…Ø©"})]}),e.jsxs("div",{className:"pl-6",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:d.service_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.price," Ø±ÙŠØ§Ù„"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„ØªØ§Ø±ÙŠØ®"})]}),e.jsxs("div",{className:"pl-6",children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Ù…Ù†: ",new Date(d.start_date).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ø¥Ù„Ù‰: ",new Date(d.end_date).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„Ø­Ø§Ù„Ø©"})]}),e.jsxs("div",{className:"pl-6 space-y-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(d.status)}`,children:S(d.status)}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(y,{size:"sm",onClick:()=>w(d.id,"confirmed"),className:"bg-green-600 hover:bg-green-700 text-white",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"ØªØ£ÙƒÙŠØ¯"]}),e.jsxs(y,{size:"sm",variant:"destructive",onClick:()=>w(d.id,"cancelled"),children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),"Ø¥Ù„ØºØ§Ø¡"]})]})]})]})]})})},d.id)),M.length===0&&!s&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ØªÙ… Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§"})]})]})]})]})]})},_e=()=>{const[r,l]=i.useState([]),[s,g]=i.useState(!0),[m,c]=i.useState(null),[n,o]=i.useState("all"),[x,h]=i.useState(""),[u,a]=i.useState(""),[f,k]=i.useState(""),[p,w]=i.useState("date"),j=i.useCallback(async()=>{g(!0),c(null);try{const C=(await U()).filter(E=>E.status==="confirmed"||E.status==="cancelled");l(C)}catch{c("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù….")}finally{g(!1)}},[]);i.useEffect(()=>{j()},[j]);const S=t=>{switch(t){case"confirmed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"cancelled":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}},M=t=>{switch(t){case"confirmed":return"Ù…Ø¤ÙƒØ¯";case"cancelled":return"Ù…Ù„ØºÙŠ";default:return t}},b=t=>{switch(t){case"confirmed":return e.jsx($,{className:"w-4 h-4"});case"cancelled":return e.jsx(V,{className:"w-4 h-4"});default:return e.jsx(H,{className:"w-4 h-4"})}},d=r.filter(t=>{if(n!=="all"&&t.status!==n)return!1;if(x){const C=x.toLowerCase(),E=t.user_name.toLowerCase().includes(C),Z=t.service_name.toLowerCase().includes(C);if(!E&&!Z)return!1}return!(u&&t.start_date<u||f&&t.start_date>f)}).sort((t,C)=>{switch(p){case"date":return new Date(C.start_date).getTime()-new Date(t.start_date).getTime();case"price":return C.price-t.price;case"status":return t.status.localeCompare(C.status);default:return 0}}),L=r.filter(t=>t.status==="confirmed").length,z=r.filter(t=>t.status==="cancelled").length,P=r.filter(t=>t.status==="confirmed").reduce((t,C)=>t+C.price,0);return e.jsxs("div",{className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:m}),e.jsx("button",{onClick:j,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(v,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-800",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø¤ÙƒØ¯Ø©"}),e.jsx("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300 mt-2",children:L})]}),e.jsx("div",{className:"w-12 h-12 bg-green-200 dark:bg-green-800/50 rounded-full flex items-center justify-center",children:e.jsx($,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-800",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ù„ØºØ§Ø©"}),e.jsx("p",{className:"text-3xl font-bold text-red-700 dark:text-red-300 mt-2",children:z})]}),e.jsx("div",{className:"w-12 h-12 bg-red-200 dark:bg-red-800/50 rounded-full flex items-center justify-center",children:e.jsx(V,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})}),e.jsx(v,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-800",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300 mt-2",children:[P.toFixed(0)," Ø±ÙŠØ§Ù„"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-200 dark:bg-blue-800/50 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})})]}),e.jsxs(v,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-indigo-600"}),"Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"]}),e.jsx(I,{children:"Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø¤ÙƒØ¯Ø© ÙˆØ§Ù„Ù…Ù„ØºØ§Ø©"})]}),e.jsxs(y,{onClick:j,disabled:s,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"ØªØ­Ø¯ÙŠØ«"]})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"all",label:"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",icon:"ğŸ“Š"},{key:"confirmed",label:"Ø§Ù„Ù…Ø¤ÙƒØ¯Ø©",icon:"âœ…"},{key:"cancelled",label:"Ø§Ù„Ù…Ù„ØºØ§Ø©",icon:"âŒ"}].map(({key:t,label:C,icon:E})=>e.jsxs(y,{variant:n===t?"default":"outline",size:"sm",onClick:()=>o(t),className:n===t?"bg-indigo-600 hover:bg-indigo-700":"",children:[e.jsx("span",{className:"ml-2",children:E}),C]},t))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ø¨Ø­Ø«"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶ Ø£Ùˆ Ø§Ù„Ø®Ø¯Ù…Ø©...",value:x,onChange:t=>h(t.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ù…Ù† ØªØ§Ø±ÙŠØ®"}),e.jsx("input",{type:"date",value:u,onChange:t=>a(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®"}),e.jsx("input",{type:"date",value:f,onChange:t=>k(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨"}),e.jsxs("select",{value:p,onChange:t=>w(t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"date",children:"Ø§Ù„ØªØ§Ø±ÙŠØ® (Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹)"}),e.jsx("option",{value:"price",children:"Ø§Ù„Ø³Ø¹Ø± (Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø£ÙˆÙ„Ø§Ù‹)"}),e.jsx("option",{value:"status",children:"Ø§Ù„Ø­Ø§Ù„Ø©"})]})]})]}),(x||u||f||n!=="all")&&e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬: ",e.jsx("span",{className:"font-semibold text-indigo-600",children:d.length})," Ù…Ù† Ø£ØµÙ„ ",r.length]}),e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>{h(""),a(""),k(""),o("all"),w("date")},className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±"]})]}),s?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})}):e.jsxs("div",{className:"space-y-4",children:[d.map(t=>e.jsx(v,{className:"hover:shadow-lg transition-shadow duration-300",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„Ù…Ø±ÙŠØ¶"})]}),e.jsx("div",{className:"pl-6",children:e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.user_name})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„Ø®Ø¯Ù…Ø©"})]}),e.jsxs("div",{className:"pl-6",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.service_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.price," Ø±ÙŠØ§Ù„"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„ØªØ§Ø±ÙŠØ®"})]}),e.jsxs("div",{className:"pl-6",children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Ù…Ù†: ",new Date(t.start_date).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ø¥Ù„Ù‰: ",new Date(t.end_date).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Ø§Ù„Ø­Ø§Ù„Ø©"})]}),e.jsx("div",{className:"pl-6",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${S(t.status)}`,children:[b(t.status),M(t.status)]})})]})]})})},t.id)),d.length===0&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx(D,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª"})]})]})]})]})]})},Te=({hospital:r,account:l,refreshData:s})=>{const[g,m]=i.useState(!1),[c,n]=i.useState(!1),o=async x=>{x.preventDefault(),n(!0);const h=new FormData(x.currentTarget);try{await xe(h),alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­"),m(!1),s()}catch(u){alert(`Ø®Ø·Ø£: ${u.message}`)}finally{n(!1)}};return!r||!l?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 dark:border-teal-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(v,{children:[e.jsxs(_,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-teal-600"}),"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰"]}),e.jsx(I,{children:"Ø¹Ø±Ø¶ ÙˆØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©"})]}),e.jsx(N,{children:g?e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(A,{label:"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰",name:"full_name",defaultValue:r.full_name,required:!0}),e.jsx(A,{label:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",name:"address",defaultValue:r.address,required:!0}),e.jsx(A,{label:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",name:"phone_number",defaultValue:l.phone_number,required:!0})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(y,{type:"submit",disabled:c,section:"hospital",children:c?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...":"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"}),e.jsx(y,{type:"button",onClick:()=>m(!1),variant:"outline",children:"Ø¥Ù„ØºØ§Ø¡"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:r.full_name})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:r.address})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:l.email})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:l.phone_number})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${l.is_approved==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:l.is_approved==="approved"?"Ù…Ù‚Ø¨ÙˆÙ„":"Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"})]}),e.jsxs(y,{onClick:()=>m(!0),section:"hospital",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ"]})]})]})})]})})},Ie=()=>{const[r,l]=i.useState([]),[s,g]=i.useState(!0),[m,c]=i.useState(!1),[n,o]=i.useState(null),x=i.useCallback(async()=>{g(!0);try{const a=await le();l(a)}catch(a){console.error(a),alert("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø®Ø¯Ù…Ø§Øª")}finally{g(!1)}},[]);i.useEffect(()=>{x()},[x]);const h=async a=>{if(window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø©ØŸ"))try{await ie(a),x()}catch{alert("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø®Ø¯Ù…Ø©")}},u=async a=>{a.preventDefault();const f=new FormData(a.currentTarget),k=f.get("price"),p=f.get("capacity");try{n?k&&p&&await ce(n.id,Number(k),Number(p)):await oe(f),x(),c(!1),o(null)}catch(w){alert(`ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø®Ø¯Ù…Ø©: ${w.message}`)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-blue-600"}),"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©"]}),e.jsx(I,{children:"Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯"})]}),e.jsxs(y,{onClick:()=>{o(null),c(!0)},section:"services",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©"]})]})}),e.jsx(N,{children:s?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-200 dark:border-gray-700",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[e.jsx("th",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-right font-semibold text-gray-700 dark:text-gray-300",children:"Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©"}),e.jsx("th",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-right font-semibold text-gray-700 dark:text-gray-300",children:"Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„)"}),e.jsx("th",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-right font-semibold text-gray-700 dark:text-gray-300",children:"Ø§Ù„Ø³Ø¹Ø© (Ù…Ø±ÙŠØ¶)"}),e.jsx("th",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-center font-semibold text-gray-700 dark:text-gray-300",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsxs("tbody",{children:[r.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-gray-900 dark:text-gray-100 font-medium",children:a.service_name}),e.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-blue-600 dark:text-blue-400 font-semibold",children:a.price}),e.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-gray-700 dark:text-gray-300",children:a.capacity}),e.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(y,{onClick:()=>{o(a),c(!0)},variant:"outline",size:"sm",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"ØªØ¹Ø¯ÙŠÙ„"]}),e.jsxs(y,{onClick:()=>h(a.id),variant:"destructive",size:"sm",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"Ø­Ø°Ù"]})]})})]},a.id)),r.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"border border-gray-200 dark:border-gray-700 px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(G,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{children:"Ù„Ù… ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø§Øª Ø¨Ø¹Ø¯."})]})})]})]})})})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:e.jsxs(v,{className:"w-full max-w-md dark:bg-gray-800",children:[e.jsx(_,{children:e.jsx(T,{children:n?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø©":"Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©"})}),e.jsx(N,{children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[!n&&e.jsx(A,{label:"Ø§Ø³Ù… Ø§Ù„Ø®Ø¯Ù…Ø©",name:"service_name",required:!0}),e.jsx(A,{label:"Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„)",name:"price",type:"number",defaultValue:n==null?void 0:n.price,required:!0}),e.jsx(A,{label:"Ø§Ù„Ø³Ø¹Ø© (Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø¶Ù‰)",name:"capacity",type:"number",defaultValue:n==null?void 0:n.capacity,required:!0}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx(y,{type:"button",onClick:()=>c(!1),variant:"outline",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(y,{type:"submit",section:"services",children:"Ø­ÙØ¸"})]})]})})]})})]})},Me=()=>{const[r,l]=i.useState([]),[s,g]=i.useState(!0),[m,c]=i.useState(null),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={Sunday:"Ø§Ù„Ø£Ø­Ø¯",Monday:"Ø§Ù„Ø§Ø«Ù†ÙŠÙ†",Tuesday:"Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡",Wednesday:"Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡",Thursday:"Ø§Ù„Ø®Ù…ÙŠØ³",Friday:"Ø§Ù„Ø¬Ù…Ø¹Ø©",Saturday:"Ø§Ù„Ø³Ø¨Øª"},x=i.useCallback(async()=>{g(!0),c(null);try{const a=await ae();l(a)}catch(a){console.error("Error fetching schedules:",a),c("ÙØ´Ù„ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„. ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…."),l([])}finally{g(!1)}},[]);i.useEffect(()=>{x()},[x]);const h=async a=>{a.preventDefault();const k=new FormData(a.currentTarget).get("day_of_week");if(r.find(p=>p.day_of_week.toLowerCase()===k.toLowerCase())){alert("Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ù…Ø¶Ø§Ù Ø¨Ø§Ù„ÙØ¹Ù„.");return}try{await de(k),x(),a.target.reset()}catch(p){alert(`ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙŠÙˆÙ…: ${p.message}`)}},u=async a=>{if(window.confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…ØŸ"))try{await ne(a),x()}catch(f){alert(`ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙŠÙˆÙ…: ${f.message}`)}};return e.jsxs("div",{className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400 dark:text-red-300",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:m}),e.jsx("button",{onClick:x,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300 underline",children:"Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©"})]})]})}),e.jsxs(v,{children:[e.jsx(_,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5 text-green-600"}),"Ø¥Ø¶Ø§ÙØ© ÙŠÙˆÙ… Ø¹Ù…Ù„ Ø¬Ø¯ÙŠØ¯"]}),e.jsx(I,{children:"Ø§Ø®ØªØ± Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„ØªÙŠ ÙŠØ¹Ù…Ù„ ÙÙŠÙ‡Ø§ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"})]}),e.jsxs(y,{onClick:x,disabled:s,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"ØªØ­Ø¯ÙŠØ«"]})]})}),e.jsx(N,{children:e.jsx("form",{onSubmit:h,className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"day_of_week",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ø§Ø®ØªØ± ÙŠÙˆÙ…Ø§Ù‹"}),e.jsx("select",{name:"day_of_week",id:"day_of_week",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 dark:text-black",children:n.map(a=>e.jsx("option",{value:a,children:o[a]},a))})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(y,{type:"submit",section:"hospital",className:"w-full md:w-auto",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙŠÙˆÙ…"]})})]})})})]}),e.jsxs(v,{children:[e.jsxs(_,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-green-600"}),"Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠØ©"]}),e.jsx(I,{children:"Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù„Ù„Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰"})]}),e.jsx(N,{children:s?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 dark:border-green-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border border-gray-200 dark:border-gray-700",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[e.jsx("th",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-right font-semibold text-gray-700 dark:text-gray-300",children:"ÙŠÙˆÙ… Ø§Ù„Ø¹Ù…Ù„"}),e.jsx("th",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3 text-center font-semibold text-gray-700 dark:text-gray-300",children:"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsxs("tbody",{children:[r.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx(D,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:o[a.day_of_week.charAt(0).toUpperCase()+a.day_of_week.slice(1)]||a.day_of_week})]})}),e.jsx("td",{className:"border border-gray-200 dark:border-gray-700 px-4 py-3",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs(y,{onClick:()=>u(a.id),variant:"destructive",size:"sm",children:[e.jsx(K,{className:"w-4 h-4 mr-1"}),"Ø­Ø°Ù"]})})})]},a.id)),r.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"border border-gray-200 dark:border-gray-700 px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(D,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("p",{children:"Ù„Ù… ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠØ§Ù… Ø¹Ù…Ù„ Ø¨Ø¹Ø¯."})]})})]})]})})})]})]})},Ae=({onLogout:r})=>{var w;const[l,s]=i.useState("overview"),[g,m]=i.useState({hospital:null,account:null}),[c,n]=i.useState(!0),[o,x]=i.useState(!1),h=i.useCallback(async()=>{n(!0);try{const[j,S]=await se();m({account:j,hospital:S})}catch(j){console.error("Failed to fetch profile",j),r()}finally{n(!1)}},[r]);i.useEffect(()=>{h()},[h]);const u=async()=>{try{await te()}catch(j){console.error("Logout failed on server, logging out client-side.",j)}finally{r()}},a=j=>{(j==="overview"||j==="profile"||j==="services"||j==="schedule"||j==="reservations"||j==="history")&&s(j)},f=()=>{var j,S;switch(l){case"overview":return e.jsx(X,{onNavigate:a,userFullName:(j=g.hospital)==null?void 0:j.full_name});case"profile":return e.jsx(Te,{hospital:g.hospital,account:g.account,refreshData:h});case"services":return e.jsx(Ie,{});case"schedule":return e.jsx(Me,{});case"reservations":return e.jsx(Le,{});case"history":return e.jsx(_e,{});default:return e.jsx(X,{onNavigate:a,userFullName:(S=g.hospital)==null?void 0:S.full_name})}},p=(()=>{switch(l){case"overview":return null;case"profile":return{title:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù„Ù…Ø³ØªØ´ÙÙ‰",description:"Ø¹Ø±Ø¶ ÙˆØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",icon:"ğŸ‘¤",color:"from-teal-500 to-cyan-600"};case"services":return{title:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©",description:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯",icon:"ğŸ¥",color:"from-blue-500 to-cyan-600"};case"schedule":return{title:"Ø¬Ø¯ÙˆÙ„ Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„",description:"Ø¥Ø¯Ø§Ø±Ø© Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©",icon:"ğŸ“…",color:"from-green-500 to-emerald-600"};case"reservations":return{title:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",description:"Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø©",icon:"â³",color:"from-purple-500 to-indigo-600"};case"history":return{title:"Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª",description:"Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø¤ÙƒØ¯Ø© ÙˆØ§Ù„Ù…Ù„ØºØ§Ø©",icon:"ğŸ“œ",color:"from-indigo-500 to-purple-600"};default:return null}})();return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col overflow-x-hidden transition-colors duration-200",children:[e.jsx(fe,{onLogout:u,onMenuClick:()=>x(!0),userFullName:(w=g.hospital)==null?void 0:w.full_name,activeTab:l,onTabChange:a}),e.jsx(ve,{isOpen:o,onClose:()=>x(!1),activeTab:l,onTabChange:j=>{s(j)}}),e.jsx("div",{className:"flex-1 flex flex-col pt-16",children:e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-gray-50 dark:bg-gray-900",children:[p&&e.jsx("div",{className:`bg-gradient-to-r ${p.color} text-white shadow-lg w-full`,children:e.jsx("div",{className:"px-2 sm:px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx("div",{className:"text-2xl",children:p.icon}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-base sm:text-lg font-bold",children:p.title}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm opacity-90",children:p.description})]})]})})}),e.jsx("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 py-6 flex-1 flex flex-col overflow-x-hidden",children:f()})]})})]})};export{Ae as default};
